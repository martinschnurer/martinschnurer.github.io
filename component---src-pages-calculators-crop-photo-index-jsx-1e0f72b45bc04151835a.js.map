{"version":3,"sources":["webpack:///./src/pages/calculators/crop_photo/index.jsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/layout.js","webpack:///./static/crab-cancer-symbol.png"],"names":["CropPhotoPage","_this","_React$PureComponent","call","this","onSelectFile","e","target","files","length","console","log","reader","FileReader","addEventListener","setState","src","result","readAsDataURL","onImageLoaded","image","crop","imageRef","onCropComplete","makeClientCrop","onCropChange","state","aspect","_callee","croppedImageUrl","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_3___default","a","wrap","_context","prev","next","width","height","getCroppedImg","sent","stop","fileName","_this2","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","x","y","Promise","resolve","reject","toBlob","blob","name","window","URL","revokeObjectURL","fileUrl","createObjectURL","error","render","_this$state","react__WEBPACK_IMPORTED_MODULE_7___default","_components_layout__WEBPACK_IMPORTED_MODULE_9__","type","onChange","react_image_crop__WEBPACK_IMPORTED_MODULE_8___default","onComplete","alt","style","maxWidth","React","PureComponent","__webpack_exports__","props","_React$useState","useState","wait","__webpack_require__","d","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","StaticQueryContext","createContext","Consumer","staticQueryData","data","query","children","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","require","default","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","Layout","_this$props","_this$props$withFoote","withFooter","react__WEBPACK_IMPORTED_MODULE_1___default","className","classnames","styles","root_panel","grid_menu","menu","menu_item","img","gatsby__WEBPACK_IMPORTED_MODULE_2__","to","body_content","inside_content","Date","getFullYear","Component","p"],"mappings":"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","file":"component---src-pages-calculators-crop-photo-index-jsx-1e0f72b45bc04151835a.js","sourcesContent":["import React from \"react\";\nimport ReactCrop from \"react-image-crop\";\nimport Layout from \"../../../components/layout\";\nimport \"./custom_crop_style.css\"\n\nclass CropPhotoPage extends React.PureComponent {\n   \n   constructor() {\n      super();\n      this.state = {\n         src: null,\n         crop: {\n            aspect: 16 / 9\n         }\n      }\n   }\n\n   onSelectFile = e => {\n      if (e.target.files && e.target.files.length > 0) {\n        console.log('preslo to cez if')\n         const reader = new FileReader();\n        reader.addEventListener(\"load\", () =>\n          this.setState({ src: reader.result })\n        );\n        reader.readAsDataURL(e.target.files[0]);\n      }\n   };\n\n   onImageLoaded = (image, crop) => {\n      this.imageRef = image;\n   };\n  \n   onCropComplete = crop => {\n      this.makeClientCrop(crop);\n   };\n  \n   onCropChange = crop => {\n      this.setState({ crop });\n   };\n  \n   async makeClientCrop(crop) {\n      if (this.imageRef && crop.width && crop.height) {\n        const croppedImageUrl = await this.getCroppedImg(\n          this.imageRef,\n          crop,\n          \"newFile.jpeg\"\n        );\n        this.setState({ croppedImageUrl });\n      }\n   }\n  \n   getCroppedImg(image, crop, fileName) {\n      const canvas = document.createElement(\"canvas\");\n      const scaleX = image.naturalWidth / image.width;\n      const scaleY = image.naturalHeight / image.height;\n      canvas.width = crop.width;\n      canvas.height = crop.height;\n      const ctx = canvas.getContext(\"2d\");\n  \n      ctx.drawImage(\n        image,\n        crop.x * scaleX,\n        crop.y * scaleY,\n        crop.width * scaleX,\n        crop.height * scaleY,\n        0,\n        0,\n        crop.width,\n        crop.height\n      );\n  \n      return new Promise((resolve, reject) => {\n        canvas.toBlob(blob => {\n          if (!blob) {\n            //reject(new Error('Canvas is empty'));\n            console.error(\"Canvas is empty\");\n            return;\n          }\n          blob.name = fileName;\n          window.URL.revokeObjectURL(this.fileUrl);\n          this.fileUrl = window.URL.createObjectURL(blob);\n          resolve(this.fileUrl);\n        }, \"image/jpeg\");\n      });\n    }\n\n   render() {\n      const { crop, croppedImageUrl, src } = this.state\n      return (\n         <Layout>\n            <div>\n               <input type=\"file\" onChange={this.onSelectFile} />\n            </div>\n               <div>\n               {src && (\n                  <ReactCrop \n                     src={src} \n                     crop={crop}\n                     onImageLoaded={this.onImageLoaded}\n                     onComplete={this.onCropComplete}\n                     onChange={this.onCropChange}\n                  />\n               )}\n               </div>\n               {croppedImageUrl && (\n                  <img alt=\"Crop\" style={{ maxWidth: \"100%\" }} src={croppedImageUrl} />\n               )}\n         </Layout>\n      )\n   }\n}\n\nexport default (props) => {\n   const [wait, setWait] = React.useState(false);\n   \n   // .then(_ => setWait(false))\n   // .catch(_ => console.log('error at import'))\n\n   if (wait) {\n      return 'Loading CSS...';\n   }\n   return <CropPhotoPage {...props} />\n}","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  if (!pageResources) {\n    return null\n  }\n\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React from \"react\"\nimport { Link } from \"gatsby\"\nimport classnames from 'classnames'\n\nimport styles from './layout.module.scss'\nimport img from \"../../static/crab-cancer-symbol.png\"\n\nclass Layout extends React.Component {\n\n  render() {\n    const { children, withFooter = true } = this.props;\n\n    return (\n      <div className={classnames(styles.root_panel)}>\n        <div className={styles.grid_menu}>\n          <div className={styles.menu}>\n            <img className={styles.menu_item} src={img} alt={\"menu logo\"} />\n            <div className={styles.menu_item}><Link to={\"/\"}>Home</Link></div>\n            <div className={styles.menu_item}><Link to={\"/calculators\"}>Calculators</Link></div>\n          </div>\n        </div>\n        <div className={styles.body_content}>\n          <div className={styles.inside_content}>\n            <div>\n              {children}\n            </div>\n            {withFooter && (\n              <footer>\n                © {new Date().getFullYear()}, Martin Schnurer\n              </footer>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Layout\n","module.exports = __webpack_public_path__ + \"static/crab-cancer-symbol-df2517047b31779b6dc2798a803afcd4.png\";"],"sourceRoot":""}