{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.string.fixed.js","webpack:///./node_modules/disqus-react/lib/index.js","webpack:///./node_modules/gatsby-image/index.js","webpack:///./node_modules/disqus-react/lib/CommentEmbed.js","webpack:///./node_modules/disqus-react/lib/DiscussionEmbed.js","webpack:///./node_modules/disqus-react/lib/CommentCount.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es6.number.constructor.js","webpack:///./node_modules/disqus-react/lib/utils.js","webpack:///./src/templates/blog-post.tsx"],"names":["createHTML","this","Object","defineProperty","exports","value","DiscussionEmbed","CommentEmbed","CommentCount","undefined","_CommentCount","_CommentEmbed","_DiscussionEmbed","Disqus","_interopRequireDefault","require","__esModule","io","_assertThisInitialized2","_inheritsLoose2","_objectWithoutPropertiesLoose2","_extends2","_react","_propTypes","convertProps","props","convertedProps","resolutions","sizes","critical","fixed","fluid","loading","groupByMedia","concat","getImageSrcKey","_ref","src","imageCache","create","inImageCache","hasNativeLazyLoadSupport","HTMLImageElement","prototype","isBrowser","window","hasIOSupport","IntersectionObserver","listeners","WeakMap","generateImageSources","imageVariants","map","_ref2","srcSet","srcSetWebp","media","createElement","Fragment","key","type","withMedia","without","forEach","variant","push","generateTracedSVGSources","_ref3","tracedSVG","generateBase64Sources","_ref4","base64","generateNoscriptSource","_ref5","isWebp","listenToIntersections","el","cb","observer","entries","entry","has","target","get","isIntersecting","intersectionRatio","unobserve","rootMargin","observe","set","noscriptImg","title","alt","width","height","crossOrigin","draggable","join","Placeholder","_ref6","generateSources","spreadProps","baseImage","Img","length","forwardRef","ref","style","onLoad","onError","onClick","otherProps","position","top","left","objectFit","objectPosition","propTypes","object","func","Image","_React$Component","_this","call","seenBefore","isCritical","addNoScript","fadeIn","useIOSupport","isVisible","state","imgLoaded","imgCached","imageRef","createRef","handleImageLoaded","bind","handleRef","_proto","componentDidMount","onStartLoad","wasCached","img","current","complete","componentWillUnmount","cleanUpListeners","_this2","imageInCache","setState","currentSrc","render","_convertProps","className","_convertProps$style","_convertProps$imgStyl","imgStyle","_convertProps$placeho","placeholderStyle","placeholderClassName","backgroundColor","durationFadeIn","Tag","itemProp","shouldReveal","shouldFadeIn","imageStyle","opacity","transition","bgColor","delayHideStyle","transitionDelay","imagePlaceholderStyle","placeholderImageProps","image","overflow","JSON","stringify","paddingBottom","aspectRatio","bottom","right","dangerouslySetInnerHTML","__html","_imageVariants","_image","divStyle","display","Component","defaultProps","fixedObject","shape","number","isRequired","string","srcWebp","fluidObject","oneOfType","arrayOf","bool","oneOf","_default","obj","_createClass","defineProperties","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","constructor","setPrototypeOf","_inherits","Number","commentId","toString","showParentComment","showMedia","getSrc","seamless","scrolling","frameBorder","_utils","disqus_shortname","shortname","cleanInstance","loadInstance","nextProps","shallowComparison","doc","document","DISQUS","getElementById","reset","reload","config","getDisqusConfig","disqus_config","insertScript","body","removeScript","error","disqusThread","hasChildNodes","removeChild","firstChild","page","identifier","url","callbacks","onNewComment","id","queueResetCount","debounce","DISQUSWIDGETS","getCount","children","global","cof","inheritIfRequired","toPrimitive","fails","gOPN","f","gOPD","dP","$trim","trim","$Number","Base","proto","BROKEN_COF","TRIM","String","toNumber","argument","it","third","radix","maxCode","first","charCodeAt","NaN","code","digits","slice","l","parseInt","that","valueOf","keys","split","j","parentElement","script","async","appendChild","wait","runOnFirstCall","timeout","context","args","deferredExecution","callNow","clearTimeout","setTimeout","isReactElement","currentProps","propNames","Set","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","name","err","element","isValidElement","Array","isArray","some","EmbeddedDis","React","memo","postId","pageQuery","BlogPostTemplate","post","data","thisPost","pageContext","previous","recomScores","allPosts","edges","edge","tags","node","frontmatter","similarTags","reduce","acc","tag","includes","score","fields","slug","sort","a","b","toRecommend","filter","postStats","wordCount","words","sentences","paragraphs","padding","styles","blog_post","description","excerpt","cover","imageWrapper","topImage","childImageSharp","coverCredits","author","padded","process","blogHtml","mainTitle","toUpperCase","date","html","marginBottom","bottomNavigation","navigationLeft","to","rel","navigationRight","marginTop","recommendPanel","postList","textDecoration","emptyCover","discuss_box"],"mappings":"8FAEA,EAAQ,OAAR,CAA0B,SAAS,SAAUA,GAC3C,OAAO,WACL,OAAOA,EAAWC,KAAM,KAAM,GAAI,S,oCCFtC,EAAQ,QAERC,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,gBAAkBF,EAAQG,aAAeH,EAAQI,kBAAeC,EAExE,IAAIC,EAAgB,EAAQ,QAExBC,EAAgB,EAAQ,QAExBC,EAAmB,EAAQ,QAE/BR,EAAQI,aAAeE,EAAcF,aACrCJ,EAAQG,aAAeI,EAAcJ,aACrCH,EAAQE,gBAAkBM,EAAiBN,gBAC3C,IAAIO,EAAS,CACXL,aAAcE,EAAcF,aAC5BD,aAAcI,EAAcJ,aAC5BD,gBAAiBM,EAAiBN,iBAEpCF,EAAiB,QAAIS,G,gGCrBrB,IAAIC,EAAyBC,EAAQ,QAErCX,EAAQY,YAAa,EACrBZ,EAAO,aAAc,EAErB,IA8FIa,EA9FAC,EAA0BJ,EAAuBC,EAAQ,SAEzDI,EAAkBL,EAAuBC,EAAQ,SAEjDK,EAAiCN,EAAuBC,EAAQ,SAEhEM,EAAYP,EAAuBC,EAAQ,SAE3CO,EAASR,EAAuBC,EAAQ,SAExCQ,EAAaT,EAAuBC,EAAQ,SAe5CS,EAAe,SAAsBC,GACvC,IAAIC,GAAiB,EAAIL,EAAS,SAAa,GAAII,GAC/CE,EAAcD,EAAeC,YAC7BC,EAAQF,EAAeE,MACvBC,EAAWH,EAAeG,SA0B9B,OAxBIF,IACFD,EAAeI,MAAQH,SAChBD,EAAeC,aAGpBC,IACFF,EAAeK,MAAQH,SAChBF,EAAeE,OAGpBC,IAEFH,EAAeM,QAAU,SAIvBN,EAAeK,QACjBL,EAAeK,MAAQE,EAAa,GAAGC,OAAOR,EAAeK,SAG3DL,EAAeI,QACjBJ,EAAeI,MAAQG,EAAa,GAAGC,OAAOR,EAAeI,SAGxDJ,GAULS,EAAiB,SAAwBC,GAC3C,IAAIL,EAAQK,EAAKL,MACbD,EAAQM,EAAKN,MAEjB,OADWC,GAASA,EAAM,IAAMD,GAASA,EAAM,IACnCO,KAKVC,EAAapC,OAAOqC,OAAO,IAE3BC,EAAe,SAAsBf,GACvC,IAAIC,EAAiBF,EAAaC,GAE9BY,EAAMF,EAAeT,GACzB,OAAOY,EAAWD,KAAQ,GAWxBI,EAAuD,oBAArBC,kBAAoC,YAAaA,iBAAiBC,UACpGC,EAA8B,oBAAXC,OACnBC,EAAeF,GAAaC,OAAOE,qBAEnCC,EAAY,IAAIC,QAwBpB,SAASC,EAAqBC,GAC5B,OAAOA,EAAcC,KAAI,SAAUC,GACjC,IAAIhB,EAAMgB,EAAMhB,IACZiB,EAASD,EAAMC,OACfC,EAAaF,EAAME,WACnBC,EAAQH,EAAMG,MACd5B,EAAQyB,EAAMzB,MAClB,OAAON,EAAM,QAAYmC,cAAcnC,EAAM,QAAYoC,SAAU,CACjEC,IAAKtB,GACJkB,GAAcjC,EAAM,QAAYmC,cAAc,SAAU,CACzDG,KAAM,aACNJ,MAAOA,EACPF,OAAQC,EACR3B,MAAOA,IACLN,EAAM,QAAYmC,cAAc,SAAU,CAC5CD,MAAOA,EACPF,OAAQA,EACR1B,MAAOA,QAOb,SAASK,EAAakB,GACpB,IAAIU,EAAY,GACZC,EAAU,GASd,OARAX,EAAcY,SAAQ,SAAUC,GAC9B,OAAQA,EAAQR,MAAQK,EAAYC,GAASG,KAAKD,MAO7C,GAAG9B,OAAO2B,EAAWC,GAG9B,SAASI,EAAyBf,GAChC,OAAOA,EAAcC,KAAI,SAAUe,GACjC,IAAI9B,EAAM8B,EAAM9B,IACZmB,EAAQW,EAAMX,MACdY,EAAYD,EAAMC,UACtB,OAAO9C,EAAM,QAAYmC,cAAc,SAAU,CAC/CE,IAAKtB,EACLmB,MAAOA,EACPF,OAAQc,OAKd,SAASC,EAAsBlB,GAC7B,OAAOA,EAAcC,KAAI,SAAUkB,GACjC,IAAIjC,EAAMiC,EAAMjC,IACZmB,EAAQc,EAAMd,MACde,EAASD,EAAMC,OACnB,OAAOjD,EAAM,QAAYmC,cAAc,SAAU,CAC/CE,IAAKtB,EACLmB,MAAOA,EACPF,OAAQiB,OAKd,SAASC,EAAuBC,EAAOC,GACrC,IAAIpB,EAASmB,EAAMnB,OACfC,EAAakB,EAAMlB,WACnBC,EAAQiB,EAAMjB,MACd5B,EAAQ6C,EAAM7C,MAKlB,MAAO,YAFQ8C,EAAS,qBAAuB,KAD/BlB,EAAQ,UAAaA,EAAQ,KAAQ,IAGV,YAJjCkB,EAASnB,EAAaD,GAI+B,MAD/C1B,EAAQ,UAAaA,EAAQ,KAAQ,IAC8B,KASrF,IAAI+C,EAAwB,SAA+BC,EAAIC,GAC7D,IAAIC,QAxGc,IAAP7D,GAAwC,oBAAX4B,QAA0BA,OAAOE,uBACvE9B,EAAK,IAAI4B,OAAOE,sBAAqB,SAAUgC,GAC7CA,EAAQhB,SAAQ,SAAUiB,GACxB,GAAIhC,EAAUiC,IAAID,EAAME,QAAS,CAC/B,IAAIL,EAAK7B,EAAUmC,IAAIH,EAAME,SAEzBF,EAAMI,gBAAkBJ,EAAMK,kBAAoB,KACpDpE,EAAGqE,UAAUN,EAAME,QACnBlC,EAAS,OAAWgC,EAAME,QAC1BL,WAIL,CACDU,WAAY,WAITtE,GA6FP,OALI6D,IACFA,EAASU,QAAQZ,GACjB5B,EAAUyC,IAAIb,EAAIC,IAGb,WACLC,EAASQ,UAAUV,GACnB5B,EAAS,OAAW4B,KAIpBc,EAAc,SAAqBjE,GAGrC,IAAIY,EAAMZ,EAAMY,IAAM,QAAWZ,EAAMY,IAAM,KAAQ,UAEjDT,EAAQH,EAAMG,MAAQ,UAAaH,EAAMG,MAAQ,KAAQ,GACzD0B,EAAS7B,EAAM6B,OAAS,WAAc7B,EAAM6B,OAAS,KAAQ,GAC7DqC,EAAQlE,EAAMkE,MAAQ,UAAalE,EAAMkE,MAAQ,KAAQ,GACzDC,EAAMnE,EAAMmE,IAAM,QAAWnE,EAAMmE,IAAM,KAAQ,UAEjDC,EAAQpE,EAAMoE,MAAQ,UAAapE,EAAMoE,MAAQ,KAAQ,GACzDC,EAASrE,EAAMqE,OAAS,WAAcrE,EAAMqE,OAAS,KAAQ,GAC7DC,EAActE,EAAMsE,YAAc,gBAAmBtE,EAAMsE,YAAc,KAAQ,GACjF/D,EAAUP,EAAMO,QAAU,YAAeP,EAAMO,QAAU,KAAQ,GACjEgE,EAAYvE,EAAMuE,UAAY,cAAiBvE,EAAMuE,UAAY,KAAQ,GAE7E,MAAO,YAD+BvE,EAAM0B,cAlCvBC,KAAI,SAAUY,GACjC,OAAQA,EAAQT,WAAaiB,EAAuBR,GAAS,GAAQ,IAAMQ,EAAuBR,MACjGiC,KAAK,IAiCuB,QAAUjE,EAAU6D,EAAQC,EAASlE,EAAQ0B,EAASjB,EAAMuD,EAAMD,EAAQI,EAAcC,EAAY,+HAMjIE,EAAc,SAAqBC,GACrC,IAAI9D,EAAM8D,EAAM9D,IACZc,EAAgBgD,EAAMhD,cACtBiD,EAAkBD,EAAMC,gBACxBC,EAAcF,EAAME,YAEpBC,EAAYhF,EAAM,QAAYmC,cAAc8C,GAAK,EAAIlF,EAAS,SAAa,CAC7EgB,IAAKA,GACJgE,IAEH,OAAOlD,EAAcqD,OAAS,EAAIlF,EAAM,QAAYmC,cAAc,UAAW,KAAM2C,EAAgBjD,GAAgBmD,GAAaA,GAG9HC,EAAMjF,EAAM,QAAYmF,YAAW,SAAUhF,EAAOiF,GACtD,IAAI9E,EAAQH,EAAMG,MACd0B,EAAS7B,EAAM6B,OACfjB,EAAMZ,EAAMY,IACZsE,EAAQlF,EAAMkF,MACdC,EAASnF,EAAMmF,OACfC,EAAUpF,EAAMoF,QAChBC,EAAUrF,EAAMqF,QAChB9E,EAAUP,EAAMO,QAChBgE,EAAYvE,EAAMuE,UAClBe,GAAa,EAAI3F,EAA8B,SAAaK,EAAO,CAAC,QAAS,SAAU,MAAO,QAAS,SAAU,UAAW,UAAW,UAAW,cACtJ,OAAOH,EAAM,QAAYmC,cAAc,OAAO,EAAIpC,EAAS,SAAa,CACtEO,MAAOA,EACP0B,OAAQA,EACRjB,IAAKA,GACJ0E,EAAY,CACbH,OAAQA,EACRC,QAASA,EACTC,QAASA,EACTJ,IAAKA,EACL1E,QAASA,EACTgE,UAAWA,EACXW,OAAO,EAAItF,EAAS,SAAa,CAC/B2F,SAAU,WACVC,IAAK,EACLC,KAAM,EACNrB,MAAO,OACPC,OAAQ,OACRqB,UAAW,QACXC,eAAgB,UACfT,SAIPJ,EAAIc,UAAY,CACdV,MAAOpF,EAAU,QAAY+F,OAC7BT,QAAStF,EAAU,QAAYgG,KAC/BT,QAASvF,EAAU,QAAYgG,KAC/BX,OAAQrF,EAAU,QAAYgG,MAGhC,IAAIC,EAEJ,SAAUC,GAGR,SAASD,EAAM/F,GACb,IAAIiG,GAEJA,EAAQD,EAAiBE,KAAK1H,KAAMwB,IAAUxB,MAGxC2H,WAAahF,GAAaJ,EAAaf,GAC7CiG,EAAMG,WAA+B,UAAlBpG,EAAMO,SAAuBP,EAAMI,SACtD6F,EAAMI,cAAgBJ,EAAMG,aAAepG,EAAMsG,QACjDL,EAAMM,cAAgBvF,GAA4BK,IAAiB4E,EAAMG,aAAeH,EAAME,WAC9F,IAAIK,EAAYP,EAAMG,YAAcjF,IAAcH,IAA6BiF,EAAMM,cAUrF,OATAN,EAAMQ,MAAQ,CACZD,UAAWA,EACXE,WAAW,EACXC,WAAW,EACXL,QAASL,EAAME,YAAcnG,EAAMsG,QAErCL,EAAMW,SAAW/G,EAAM,QAAYgH,YACnCZ,EAAMa,kBAAoBb,EAAMa,kBAAkBC,MAAK,EAAItH,EAAuB,SAAawG,IAC/FA,EAAMe,UAAYf,EAAMe,UAAUD,MAAK,EAAItH,EAAuB,SAAawG,IACxEA,GAtBT,EAAIvG,EAAe,SAAaqG,EAAOC,GAyBvC,IAAIiB,EAASlB,EAAM7E,UAqPnB,OAnPA+F,EAAOC,kBAAoB,WAOzB,GANI1I,KAAKiI,MAAMD,WAA+C,mBAA3BhI,KAAKwB,MAAMmH,aAC5C3I,KAAKwB,MAAMmH,YAAY,CACrBC,UAAWrG,EAAavC,KAAKwB,SAI7BxB,KAAK4H,WAAY,CACnB,IAAIiB,EAAM7I,KAAKoI,SAASU,QAEpBD,GAAOA,EAAIE,UACb/I,KAAKsI,sBAKXG,EAAOO,qBAAuB,WACxBhJ,KAAKiJ,kBACPjJ,KAAKiJ,oBAKTR,EAAOD,UAAY,SAAmB/B,GACpC,IAAIyC,EAASlJ,KAETA,KAAK+H,cAAgBtB,IACvBzG,KAAKiJ,iBAAmBvE,EAAsB+B,GAAK,WACjD,IAAI0C,EAAe5G,EAAa2G,EAAO1H,OAElC0H,EAAOjB,MAAMD,WAAiD,mBAA7BkB,EAAO1H,MAAMmH,aACjDO,EAAO1H,MAAMmH,YAAY,CACvBC,UAAWO,IAQfD,EAAOE,SAAS,CACdpB,WAAW,IACV,WACD,OAAOkB,EAAOE,SAAS,CACrBlB,UAAWiB,EAGXhB,YAAae,EAAOd,SAASU,QAAQO,qBAO/CZ,EAAOH,kBAAoB,WApSD,IAA+B9G,EACrDC,EAEAW,EAHqDZ,EAqSjCxB,KAAKwB,MApSzBC,EAAiBF,EAAaC,GAE9BY,EAAMF,EAAeT,GACzBY,EAAWD,IAAO,EAkShBpC,KAAKoJ,SAAS,CACZlB,WAAW,IAGTlI,KAAKwB,MAAMmF,QACb3G,KAAKwB,MAAMmF,UAIf8B,EAAOa,OAAS,WACd,IAAIC,EAAgBhI,EAAavB,KAAKwB,OAClCkE,EAAQ6D,EAAc7D,MACtBC,EAAM4D,EAAc5D,IACpB6D,EAAYD,EAAcC,UAC1BC,EAAsBF,EAAc7C,MACpCA,OAAgC,IAAxB+C,EAAiC,GAAKA,EAC9CC,EAAwBH,EAAcI,SACtCA,OAAqC,IAA1BD,EAAmC,GAAKA,EACnDE,EAAwBL,EAAcM,iBACtCA,OAA6C,IAA1BD,EAAmC,GAAKA,EAC3DE,EAAuBP,EAAcO,qBACrChI,EAAQyH,EAAczH,MACtBD,EAAQ0H,EAAc1H,MACtBkI,EAAkBR,EAAcQ,gBAChCC,EAAiBT,EAAcS,eAC/BC,EAAMV,EAAcU,IACpBC,EAAWX,EAAcW,SACzBnI,EAAUwH,EAAcxH,QACxBgE,EAAYwD,EAAcxD,UAE1BoE,GAAqC,IAAtBnK,KAAKiI,MAAMH,QAAoB9H,KAAKiI,MAAMC,UACzDkC,GAAqC,IAAtBpK,KAAKiI,MAAMH,SAAoB9H,KAAKiI,MAAME,UACzDkC,GAAa,EAAIjJ,EAAS,SAAa,CACzCkJ,QAASH,EAAe,EAAI,EAC5BI,WAAYH,EAAe,WAAaJ,EAAiB,KAAO,QAC/DL,GACCa,EAAqC,kBAApBT,EAAgC,YAAcA,EAC/DU,EAAiB,CACnBC,gBAAiBV,EAAiB,MAEhCW,GAAwB,EAAIvJ,EAAS,SAAa,CACpDkJ,QAAStK,KAAKiI,MAAMC,UAAY,EAAI,GACnCkC,GAAgBK,EAAgB,GAAId,EAAU,GAAIE,GACjDe,EAAwB,CAC1BlF,MAAOA,EACPC,IAAM3F,KAAKiI,MAAMD,UAAkB,GAANrC,EAC7Be,MAAOiE,EACPnB,UAAWM,EACXI,SAAUA,GAGZ,GAAIpI,EAAO,CACT,IAAIoB,EAAgBpB,EAChB+I,EAAQ3H,EAAc,GAC1B,OAAO7B,EAAM,QAAYmC,cAAcyG,EAAK,CAC1CT,WAAYA,GAAwB,IAAM,wBAC1C9C,OAAO,EAAItF,EAAS,SAAa,CAC/B2F,SAAU,WACV+D,SAAU,UACTpE,GACHD,IAAKzG,KAAKwI,UACV9E,IAAK,SAAWqH,KAAKC,UAAUH,EAAMxH,SACpChC,EAAM,QAAYmC,cAAcyG,EAAK,CACtCvD,MAAO,CACLd,MAAO,OACPqF,cAAe,IAAMJ,EAAMK,YAAc,OAEzCV,GAAWnJ,EAAM,QAAYmC,cAAcyG,EAAK,CAClDvE,MAAOA,EACPgB,OAAO,EAAItF,EAAS,SAAa,CAC/B2I,gBAAiBS,EACjBzD,SAAU,WACVC,IAAK,EACLmE,OAAQ,EACRb,QAAUtK,KAAKiI,MAAMC,UAAgB,EAAJ,EACjCkD,MAAO,EACPnE,KAAM,GACLmD,GAAgBK,KACjBI,EAAMvG,QAAUjD,EAAM,QAAYmC,cAAcyC,EAAa,CAC/D7D,IAAKyI,EAAMvG,OACX8B,YAAawE,EACb1H,cAAeA,EACfiD,gBAAiB/B,IACfyG,EAAM1G,WAAa9C,EAAM,QAAYmC,cAAcyC,EAAa,CAClE7D,IAAKyI,EAAM1G,UACXiC,YAAawE,EACb1H,cAAeA,EACfiD,gBAAiBlC,IACfjE,KAAKiI,MAAMD,WAAa3G,EAAM,QAAYmC,cAAc,UAAW,KAAMP,EAAqBC,GAAgB7B,EAAM,QAAYmC,cAAc8C,EAAK,CACrJX,IAAKA,EACLD,MAAOA,EACP/D,MAAOkJ,EAAMlJ,MACbS,IAAKyI,EAAMzI,IACX0D,YAAa9F,KAAKwB,MAAMsE,YACxBzC,OAAQwH,EAAMxH,OACdqD,MAAO2D,EACP5D,IAAKzG,KAAKoI,SACVzB,OAAQ3G,KAAKsI,kBACb1B,QAAS5G,KAAKwB,MAAMoF,QACpBC,QAAS7G,KAAKwB,MAAMqF,QACpBqD,SAAUA,EACVnI,QAASA,EACTgE,UAAWA,KACR/F,KAAK6H,aAAexG,EAAM,QAAYmC,cAAc,WAAY,CACnE6H,wBAAyB,CACvBC,OAAQ7F,GAAY,EAAIrE,EAAS,SAAa,CAC5CuE,IAAKA,EACLD,MAAOA,EACP3D,QAASA,GACR8I,EAAO,CACR3H,cAAeA,SAMvB,GAAIrB,EAAO,CACT,IAAI0J,EAAiB1J,EACjB2J,EAASD,EAAe,GACxBE,GAAW,EAAIrK,EAAS,SAAa,CACvC2F,SAAU,WACV+D,SAAU,SACVY,QAAS,eACT9F,MAAO4F,EAAO5F,MACdC,OAAQ2F,EAAO3F,QACda,GAMH,MAJsB,YAAlBA,EAAMgF,gBACDD,EAASC,QAGXrK,EAAM,QAAYmC,cAAcyG,EAAK,CAC1CT,WAAYA,GAAwB,IAAM,wBAC1C9C,MAAO+E,EACPhF,IAAKzG,KAAKwI,UACV9E,IAAK,SAAWqH,KAAKC,UAAUQ,EAAOnI,SACrCmH,GAAWnJ,EAAM,QAAYmC,cAAcyG,EAAK,CACjDvE,MAAOA,EACPgB,OAAO,EAAItF,EAAS,SAAa,CAC/B2I,gBAAiBS,EACjB5E,MAAO4F,EAAO5F,MACd0E,QAAUtK,KAAKiI,MAAMC,UAAgB,EAAJ,EACjCrC,OAAQ2F,EAAO3F,QACduE,GAAgBK,KACjBe,EAAOlH,QAAUjD,EAAM,QAAYmC,cAAcyC,EAAa,CAChE7D,IAAKoJ,EAAOlH,OACZ8B,YAAawE,EACb1H,cAAeqI,EACfpF,gBAAiB/B,IACfoH,EAAOrH,WAAa9C,EAAM,QAAYmC,cAAcyC,EAAa,CACnE7D,IAAKoJ,EAAOrH,UACZiC,YAAawE,EACb1H,cAAeqI,EACfpF,gBAAiBlC,IACfjE,KAAKiI,MAAMD,WAAa3G,EAAM,QAAYmC,cAAc,UAAW,KAAMP,EAAqBsI,GAAiBlK,EAAM,QAAYmC,cAAc8C,EAAK,CACtJX,IAAKA,EACLD,MAAOA,EACPE,MAAO4F,EAAO5F,MACdC,OAAQ2F,EAAO3F,OACflE,MAAO6J,EAAO7J,MACdS,IAAKoJ,EAAOpJ,IACZ0D,YAAa9F,KAAKwB,MAAMsE,YACxBzC,OAAQmI,EAAOnI,OACfqD,MAAO2D,EACP5D,IAAKzG,KAAKoI,SACVzB,OAAQ3G,KAAKsI,kBACb1B,QAAS5G,KAAKwB,MAAMoF,QACpBC,QAAS7G,KAAKwB,MAAMqF,QACpBqD,SAAUA,EACVnI,QAASA,EACTgE,UAAWA,KACR/F,KAAK6H,aAAexG,EAAM,QAAYmC,cAAc,WAAY,CACnE6H,wBAAyB,CACvBC,OAAQ7F,GAAY,EAAIrE,EAAS,SAAa,CAC5CuE,IAAKA,EACLD,MAAOA,EACP3D,QAASA,GACRyJ,EAAQ,CACTtI,cAAeqI,SAMvB,OAAO,MAGFhE,EA/QT,CAgRElG,EAAM,QAAYsK,WAEpBpE,EAAMqE,aAAe,CACnB9D,QAAQ,EACRkC,eAAgB,IAChBrE,IAAK,GACLsE,IAAK,MAGLlI,QAAS,QAGX,IAAI8J,EAAcvK,EAAU,QAAYwK,MAAM,CAC5ClG,MAAOtE,EAAU,QAAYyK,OAAOC,WACpCnG,OAAQvE,EAAU,QAAYyK,OAAOC,WACrC5J,IAAKd,EAAU,QAAY2K,OAAOD,WAClC3I,OAAQ/B,EAAU,QAAY2K,OAAOD,WACrC1H,OAAQhD,EAAU,QAAY2K,OAC9B9H,UAAW7C,EAAU,QAAY2K,OACjCC,QAAS5K,EAAU,QAAY2K,OAC/B3I,WAAYhC,EAAU,QAAY2K,OAClC1I,MAAOjC,EAAU,QAAY2K,SAG3BE,EAAc7K,EAAU,QAAYwK,MAAM,CAC5CZ,YAAa5J,EAAU,QAAYyK,OAAOC,WAC1C5J,IAAKd,EAAU,QAAY2K,OAAOD,WAClC3I,OAAQ/B,EAAU,QAAY2K,OAAOD,WACrCrK,MAAOL,EAAU,QAAY2K,OAAOD,WACpC1H,OAAQhD,EAAU,QAAY2K,OAC9B9H,UAAW7C,EAAU,QAAY2K,OACjCC,QAAS5K,EAAU,QAAY2K,OAC/B3I,WAAYhC,EAAU,QAAY2K,OAClC1I,MAAOjC,EAAU,QAAY2K,SAG/B1E,EAAMH,UAAY,CAChB1F,YAAamK,EACblK,MAAOwK,EACPtK,MAAOP,EAAU,QAAY8K,UAAU,CAACP,EAAavK,EAAU,QAAY+K,QAAQR,KACnF/J,MAAOR,EAAU,QAAY8K,UAAU,CAACD,EAAa7K,EAAU,QAAY+K,QAAQF,KACnFrE,OAAQxG,EAAU,QAAYgL,KAC9BtC,eAAgB1I,EAAU,QAAYyK,OACtCrG,MAAOpE,EAAU,QAAY2K,OAC7BtG,IAAKrE,EAAU,QAAY2K,OAC3BzC,UAAWlI,EAAU,QAAY8K,UAAU,CAAC9K,EAAU,QAAY2K,OAAQ3K,EAAU,QAAY+F,SAEhGzF,SAAUN,EAAU,QAAYgL,KAChCxG,YAAaxE,EAAU,QAAY8K,UAAU,CAAC9K,EAAU,QAAY2K,OAAQ3K,EAAU,QAAYgL,OAClG5F,MAAOpF,EAAU,QAAY+F,OAC7BsC,SAAUrI,EAAU,QAAY+F,OAChCwC,iBAAkBvI,EAAU,QAAY+F,OACxCyC,qBAAsBxI,EAAU,QAAY2K,OAC5ClC,gBAAiBzI,EAAU,QAAY8K,UAAU,CAAC9K,EAAU,QAAY2K,OAAQ3K,EAAU,QAAYgL,OACtG3F,OAAQrF,EAAU,QAAYgG,KAC9BV,QAAStF,EAAU,QAAYgG,KAC/BT,QAASvF,EAAU,QAAYgG,KAC/BqB,YAAarH,EAAU,QAAYgG,KACnC2C,IAAK3I,EAAU,QAAY2K,OAC3B/B,SAAU5I,EAAU,QAAY2K,OAChClK,QAAST,EAAU,QAAYiL,MAAM,CAAC,OAAQ,OAAQ,UACtDxG,UAAWzE,EAAU,QAAYgL,MAEnC,IAAIE,EAAWjF,EACfpH,EAAO,QAAcqM,G,oCC1nBrB,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAERvM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQG,kBAAeE,EAEvB,IAsBgCiM,EAtB5BC,EAAe,WACjB,SAASC,EAAiB1H,EAAQzD,GAChC,IAAK,IAAIoL,EAAI,EAAGA,EAAIpL,EAAM+E,OAAQqG,IAAK,CACrC,IAAIC,EAAarL,EAAMoL,GACvBC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD/M,OAAOC,eAAe+E,EAAQ4H,EAAWnJ,IAAKmJ,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYP,EAAiBM,EAAYvK,UAAWwK,GACpDC,GAAaR,EAAiBM,EAAaE,GACxCF,GAdQ,GAkBf5L,EAAS,EAAQ,QAEjB+L,GAE4BX,EAFKpL,IAGrBoL,EAAI1L,WAAa0L,EAAM,CACnC,QAAWA,GAIf,SAASY,EAAgBC,EAAUL,GACjC,KAAMK,aAAoBL,GACxB,MAAM,IAAIM,UAAU,qCAIxB,SAASC,EAA2BC,EAAM/F,GACxC,IAAK+F,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOhG,GAAyB,iBAATA,GAAqC,mBAATA,EAA8B+F,EAAP/F,GAqBzDvH,EAAQG,aAAe,SAAUkH,GAGlD,SAASlH,IAGP,OAFA+M,EAAgBrN,KAAMM,GAEfkN,EAA2BxN,MAAOM,EAAaqN,WAAa1N,OAAO2N,eAAetN,IAAeuN,MAAM7N,KAAM8N,YAyBtH,OAjDF,SAAmBC,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIT,UAAU,kEAAoES,GAG1FD,EAASrL,UAAYzC,OAAOqC,OAAO0L,GAAcA,EAAWtL,UAAW,CACrEuL,YAAa,CACX7N,MAAO2N,EACPjB,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdiB,IAAY/N,OAAOiO,eAAiBjO,OAAOiO,eAAeH,EAAUC,GAAcD,EAASJ,UAAYK,GAM3GG,CAAU7N,EAAckH,GAQxBkF,EAAapM,EAAc,CAAC,CAC1BoD,IAAK,SACLtD,MAAO,WAIL,MAAO,8BAHIgO,OAAOpO,KAAKwB,MAAM6M,WAAWC,SAd7B,IAiBmC,OAF5BtO,KAAKwB,MAAM+M,kBAAoB,IAAM,KAEa,OADnDvO,KAAKwB,MAAMgN,UAAY,IAAM,OAG/C,CACD9K,IAAK,SACLtD,MAAO,WACL,OAAOgN,EAAiB,QAAE5J,cAAc,SAAU,CAChDpB,IAAKpC,KAAKyO,SACV7I,MAAO5F,KAAKwB,MAAMoE,MAClBC,OAAQ7F,KAAKwB,MAAMqE,OACnB6I,SAAU,WACVC,UAAW,KACXC,YAAa,UAKZtO,EA/BiC,CAgCxC8M,EAAiB,QAAEzB,YAERC,aAAe,CAC1B4C,WAAW,EACXD,mBAAmB,EACnB3I,MAAO,IACPC,OAAQ,M,kCCrHV,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER5F,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQE,qBAAkBG,EAE1B,IAwBgCiM,EAxB5BC,EAAe,WACjB,SAASC,EAAiB1H,EAAQzD,GAChC,IAAK,IAAIoL,EAAI,EAAGA,EAAIpL,EAAM+E,OAAQqG,IAAK,CACrC,IAAIC,EAAarL,EAAMoL,GACvBC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD/M,OAAOC,eAAe+E,EAAQ4H,EAAWnJ,IAAKmJ,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYP,EAAiBM,EAAYvK,UAAWwK,GACpDC,GAAaR,EAAiBM,EAAaE,GACxCF,GAdQ,GAkBf5L,EAAS,EAAQ,QAEjB+L,GAI4BX,EAJKpL,IAKrBoL,EAAI1L,WAAa0L,EAAM,CACnC,QAAWA,GAJXoC,EAAS,EAAQ,QAQrB,SAASxB,EAAgBC,EAAUL,GACjC,KAAMK,aAAoBL,GACxB,MAAM,IAAIM,UAAU,qCAIxB,SAASC,EAA2BC,EAAM/F,GACxC,IAAK+F,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOhG,GAAyB,iBAATA,GAAqC,mBAATA,EAA8B+F,EAAP/F,EAmBtDvH,EAAQE,gBAAkB,SAAUmH,GAGxD,SAASnH,IAGP,OAFAgN,EAAgBrN,KAAMK,GAEfmN,EAA2BxN,MAAOK,EAAgBsN,WAAa1N,OAAO2N,eAAevN,IAAkBwN,MAAM7N,KAAM8N,YAqF5H,OA3GF,SAAmBC,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIT,UAAU,kEAAoES,GAG1FD,EAASrL,UAAYzC,OAAOqC,OAAO0L,GAAcA,EAAWtL,UAAW,CACrEuL,YAAa,CACX7N,MAAO2N,EACPjB,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdiB,IAAY/N,OAAOiO,eAAiBjO,OAAOiO,eAAeH,EAAUC,GAAcD,EAASJ,UAAYK,GAI3GG,CAAU9N,EAAiBmH,GAQ3BkF,EAAarM,EAAiB,CAAC,CAC7BqD,IAAK,qBACLtD,MAAO,WACiB,oBAAXwC,QAA0BA,OAAOkM,kBAAoBlM,OAAOkM,mBAAqB9O,KAAKwB,MAAMuN,WAAW/O,KAAKgP,kBAExH,CACDtL,IAAK,oBACLtD,MAAO,WACLJ,KAAKiP,iBAEN,CACDvL,IAAK,wBACLtD,MAAO,SAA+B8O,GACpC,OAAIlP,KAAKwB,QAAU0N,IACZ,EAAIL,EAAOM,mBAAmBnP,KAAKwB,MAAO0N,KAElD,CACDxL,IAAK,sBACLtD,MAAO,SAA6B8O,GAC9BlP,KAAKwB,MAAMuN,YAAcG,EAAUH,WAAW/O,KAAKgP,kBAExD,CACDtL,IAAK,qBACLtD,MAAO,WACLJ,KAAKiP,iBAEN,CACDvL,IAAK,eACLtD,MAAO,WACL,IAAIgP,EAAMxM,OAAOyM,SAEbzM,QAAUA,OAAO0M,QAAUF,EAAIG,eAAe,iBAChD3M,OAAO0M,OAAOE,MAAM,CAClBC,QAAQ,EACRC,OAAQ1P,KAAK2P,gBAAgB3P,KAAKwB,MAAMkO,WAG1C9M,OAAOgN,cAAgB5P,KAAK2P,gBAAgB3P,KAAKwB,MAAMkO,QACvD9M,OAAOkM,iBAAmB9O,KAAKwB,MAAMuN,WACrC,EAAIF,EAAOgB,cAAc,WAAa7P,KAAKwB,MAAMuN,UAAY,uBAAwB,gBAAiBK,EAAIU,SAG7G,CACDpM,IAAK,gBACLtD,MAAO,WACL,IAAIgP,EAAMxM,OAAOyM,UACjB,EAAIR,EAAOkB,cAAc,gBAAiBX,EAAIU,MAC1ClN,QAAUA,OAAO0M,QAAQ1M,OAAO0M,OAAOE,MAAM,IAEjD,WACS5M,OAAO0M,OACd,MAAOU,GACPpN,OAAO0M,YAAS9O,EAGlB,IAAIyP,EAAeb,EAAIG,eAAe,iBAEtC,GAAIU,EACF,KAAOA,EAAaC,iBAClBD,EAAaE,YAAYF,EAAaG,cAI3C,CACD1M,IAAK,kBACLtD,MAAO,SAAyBsP,GAC9B,OAAO,WACL1P,KAAKqQ,KAAKC,WAAaZ,EAAOY,WAC9BtQ,KAAKqQ,KAAKE,IAAMb,EAAOa,IACvBvQ,KAAKqQ,KAAK3K,MAAQgK,EAAOhK,MACzB1F,KAAKwQ,UAAUC,aAAe,CAACf,EAAOe,iBAGzC,CACD/M,IAAK,SACLtD,MAAO,WACL,OAAOgN,EAAiB,QAAE5J,cAAc,MAAO,CAC7CkN,GAAI,sBAKHrQ,EA3FuC,CA4F9C+M,EAAiB,QAAEzB,Y,kCCnKrB,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER1L,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQI,kBAAeC,EAEvB,IAwBgCiM,EAxB5BC,EAAe,WACjB,SAASC,EAAiB1H,EAAQzD,GAChC,IAAK,IAAIoL,EAAI,EAAGA,EAAIpL,EAAM+E,OAAQqG,IAAK,CACrC,IAAIC,EAAarL,EAAMoL,GACvBC,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjD/M,OAAOC,eAAe+E,EAAQ4H,EAAWnJ,IAAKmJ,IAIlD,OAAO,SAAUI,EAAaC,EAAYC,GAGxC,OAFID,GAAYP,EAAiBM,EAAYvK,UAAWwK,GACpDC,GAAaR,EAAiBM,EAAaE,GACxCF,GAdQ,GAkBf5L,EAAS,EAAQ,QAEjB+L,GAI4BX,EAJKpL,IAKrBoL,EAAI1L,WAAa0L,EAAM,CACnC,QAAWA,GAJXoC,EAAS,EAAQ,QAQrB,SAASxB,EAAgBC,EAAUL,GACjC,KAAMK,aAAoBL,GACxB,MAAM,IAAIM,UAAU,qCAIxB,SAASC,EAA2BC,EAAM/F,GACxC,IAAK+F,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOhG,GAAyB,iBAATA,GAAqC,mBAATA,EAA8B+F,EAAP/F,EAmB5E,IAAIiJ,GAAkB,EAAI9B,EAAO+B,WAAU,WACrChO,OAAOiO,eAAejO,OAAOiO,cAAcC,SAAS,CACtDtB,OAAO,MAER,KAAK,GAEWrP,EAAQI,aAAe,SAAUiH,GAGlD,SAASjH,IAGP,OAFA8M,EAAgBrN,KAAMO,GAEfiN,EAA2BxN,MAAOO,EAAaoN,WAAa1N,OAAO2N,eAAerN,IAAesN,MAAM7N,KAAM8N,YAiDtH,OA7EF,SAAmBC,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIT,UAAU,kEAAoES,GAG1FD,EAASrL,UAAYzC,OAAOqC,OAAO0L,GAAcA,EAAWtL,UAAW,CACrEuL,YAAa,CACX7N,MAAO2N,EACPjB,YAAY,EACZE,UAAU,EACVD,cAAc,KAGdiB,IAAY/N,OAAOiO,eAAiBjO,OAAOiO,eAAeH,EAAUC,GAAcD,EAASJ,UAAYK,GAU3GG,CAAU5N,EAAciH,GAQxBkF,EAAanM,EAAc,CAAC,CAC1BmD,IAAK,oBACLtD,MAAO,WACLJ,KAAKiP,iBAEN,CACDvL,IAAK,wBACLtD,MAAO,SAA+B8O,GACpC,OAAIlP,KAAKwB,QAAU0N,IACZ,EAAIL,EAAOM,mBAAmBnP,KAAKwB,MAAO0N,KAElD,CACDxL,IAAK,sBACLtD,MAAO,SAA6B8O,GAC9BlP,KAAKwB,MAAMuN,YAAcG,EAAUH,WAAW/O,KAAKgP,kBAExD,CACDtL,IAAK,qBACLtD,MAAO,WACLJ,KAAKiP,iBAEN,CACDvL,IAAK,eACLtD,MAAO,WACL,IAAIgP,EAAMxM,OAAOyM,SACbD,EAAIG,eAAe,iBAAkBoB,KAAuB,EAAI9B,EAAOgB,cAAc,WAAa7P,KAAKwB,MAAMuN,UAAY,uBAAwB,gBAAiBK,EAAIU,QAE3K,CACDpM,IAAK,gBACLtD,MAAO,WACL,IAAI0P,EAAOlN,OAAOyM,SAASS,MAC3B,EAAIjB,EAAOkB,cAAc,gBAAiBD,GAE1ClN,OAAOiO,mBAAgBrQ,IAExB,CACDkD,IAAK,SACLtD,MAAO,WACL,OAAOgN,EAAiB,QAAE5J,cAAc,OAAQ,CAC9CgG,UAAW,uBACX,yBAA0BxJ,KAAKwB,MAAMkO,OAAOY,WAC5C,kBAAmBtQ,KAAKwB,MAAMkO,OAAOa,KACpCvQ,KAAKwB,MAAMuP,cAIXxQ,EAvDiC,CAwDxC6M,EAAiB,QAAEzB,Y,kCCtIrB,IAAIqF,EAAS,EAAQ,QACjBhM,EAAM,EAAQ,QACdiM,EAAM,EAAQ,QACdC,EAAoB,EAAQ,QAC5BC,EAAc,EAAQ,QACtBC,EAAQ,EAAQ,QAChBC,EAAO,EAAQ,QAAkBC,EACjCC,EAAO,EAAQ,QAAkBD,EACjCE,EAAK,EAAQ,QAAgBF,EAC7BG,EAAQ,EAAQ,QAAkBC,KAElCC,EAAUX,EAAa,OACvBY,EAAOD,EACPE,EAAQF,EAAQjP,UAEhBoP,EALS,UAKIb,EAAI,EAAQ,OAAR,CAA4BY,IAC7CE,EAAO,SAAUC,OAAOtP,UAGxBuP,EAAW,SAAUC,GACvB,IAAIC,EAAKhB,EAAYe,GAAU,GAC/B,GAAiB,iBAANC,GAAkBA,EAAG5L,OAAS,EAAG,CAE1C,IACI6L,EAAOC,EAAOC,EADdC,GADJJ,EAAKJ,EAAOI,EAAGT,OAASD,EAAMU,EAAI,IACnBK,WAAW,GAE1B,GAAc,KAAVD,GAA0B,KAAVA,GAElB,GAAc,MADdH,EAAQD,EAAGK,WAAW,KACQ,MAAVJ,EAAe,OAAOK,SACrC,GAAc,KAAVF,EAAc,CACvB,OAAQJ,EAAGK,WAAW,IACpB,KAAK,GAAI,KAAK,GAAIH,EAAQ,EAAGC,EAAU,GAAI,MAC3C,KAAK,GAAI,KAAK,IAAKD,EAAQ,EAAGC,EAAU,GAAI,MAC5C,QAAS,OAAQH,EAEnB,IAAK,IAAoDO,EAAhDC,EAASR,EAAGS,MAAM,GAAIhG,EAAI,EAAGiG,EAAIF,EAAOpM,OAAcqG,EAAIiG,EAAGjG,IAIpE,IAHA8F,EAAOC,EAAOH,WAAW5F,IAGd,IAAM8F,EAAOJ,EAAS,OAAOG,IACxC,OAAOK,SAASH,EAAQN,IAE5B,OAAQF,GAGZ,IAAKR,EAAQ,UAAYA,EAAQ,QAAUA,EAAQ,QAAS,CAC1DA,EAAU,SAAgBvR,GACxB,IAAI+R,EAAKrE,UAAUvH,OAAS,EAAI,EAAInG,EAChC2S,EAAO/S,KACX,OAAO+S,aAAgBpB,IAEjBG,EAAaV,GAAM,WAAcS,EAAMmB,QAAQtL,KAAKqL,MAxCjD,UAwC6D9B,EAAI8B,IACpE7B,EAAkB,IAAIU,EAAKK,EAASE,IAAMY,EAAMpB,GAAWM,EAASE,IAE5E,IAAK,IAMgBzO,EANZuP,EAAO,EAAQ,QAAoB5B,EAAKO,GAAQ,6KAMvDsB,MAAM,KAAMC,EAAI,EAAQF,EAAK1M,OAAS4M,EAAGA,IACrCnO,EAAI4M,EAAMlO,EAAMuP,EAAKE,MAAQnO,EAAI2M,EAASjO,IAC5C8N,EAAGG,EAASjO,EAAK6N,EAAKK,EAAMlO,IAGhCiO,EAAQjP,UAAYmP,EACpBA,EAAM5D,YAAc0D,EACpB,EAAQ,OAAR,CAAuBX,EAxDZ,SAwD4BW,K,kCCjEzC,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER,EAAQ,QAER1R,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ0P,aAgBR,SAAsBzN,EAAKsO,EAAI0C,GAC7B,IAAIC,EAASzQ,OAAOyM,SAAS7L,cAAc,UAK3C,OAJA6P,EAAOC,OAAQ,EACfD,EAAOjR,IAAMA,EACbiR,EAAO3C,GAAKA,EACZ0C,EAAcG,YAAYF,GACnBA,GArBTlT,EAAQ4P,aAwBR,SAAsBW,EAAI0C,GACxB,IAAIC,EAASzQ,OAAOyM,SAASE,eAAemB,GACxC2C,GAAQD,EAAcjD,YAAYkD,IAzBxClT,EAAQyQ,SA4BR,SAAkBtJ,EAAMkM,EAAMC,GAC5B,IAAIC,OAAU,EACd,OAAO,WACL,IAAIC,EAAU3T,KAEV4T,EAAO9F,UAEP+F,EAAoB,WACtBH,EAAU,KACLD,GAAgBnM,EAAKuG,MAAM8F,EAASC,IAGvCE,EAAUL,IAAmBC,EACjC9Q,OAAOmR,aAAaL,GACpBA,EAAUM,WAAWH,EAAmBL,GACpCM,GAASxM,EAAKuG,MAAM8F,EAASC,KA1CrCzT,EAAQ8T,eAAiBA,EACzB9T,EAAQgP,kBAyDR,SAA2B+E,EAAchF,GAEvC,IAAIiF,EAAY,IAAIC,IAAInU,OAAOgT,KAAKiB,GAAejU,OAAOgT,KAAK/D,IAE3DmF,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiB/T,EAErB,IACE,IAAK,IAA8CgU,EAA1CC,EAAYN,EAAUO,OAAOC,cAAsBN,GAA6BG,EAAQC,EAAUG,QAAQC,MAAOR,GAA4B,EAAM,CAC1J,IAAIS,EAAON,EAAMpU,MACjB,GAAI8T,EAAaY,KAAU5F,EAAU4F,KAAUb,EAAeC,EAAaY,IAAQ,OAAO,GAE5F,MAAOC,GACPT,GAAoB,EACpBC,EAAiBQ,EACjB,QACA,KACOV,GAA6BI,EAAkB,QAClDA,EAAkB,SAEpB,QACA,GAAIH,EACF,MAAMC,GAKZ,OAAO,GAnFT,IAIgC9H,EAJ5BpL,EAAS,EAAQ,QAEjB+L,GAE4BX,EAFKpL,IAGrBoL,EAAI1L,WAAa0L,EAAM,CACnC,QAAWA,GAqCf,SAASwH,EAAee,GACtB,QAAI5H,EAAiB,QAAE6H,eAAeD,MAE3BE,MAAMC,QAAQH,IAChBA,EAAQI,MAAK,SAAUhV,GAC5B,OAAOgN,EAAiB,QAAE6H,eAAe7U,Q,gPCgHzCiV,G,UAA0CC,IAAMC,MACpD,gBAAGC,EAAH,EAAGA,OAAQ9P,EAAX,EAAWA,MAAO6K,EAAlB,EAAkBA,IAAlB,OACE,kBAAC,kBAAD,CACExB,UA1LkB,uBA2LlBW,OAAQ,CACNa,MACAD,WAAYkF,EACZ9P,eAQK+P,GAFEC,UAvLsC,SAAAlU,GACnD,IAAMmU,EAAOnU,EAAMoU,KAAKC,SADoC,EAEjCrU,EAAMsU,YAAzBC,EAFoD,EAEpDA,SAAUnB,EAF0C,EAE1CA,KAIZoB,EAFWxU,EAAMoU,KAAKK,SAEqBC,MAAM/S,KAAI,SAAAgT,GAAQ,IACzDC,EAASD,EAAKE,KAAKC,YAAnBF,KAEFG,EACJZ,EAAKW,YAAYF,MAAQA,EACrBT,EAAKW,YAAYF,KAAKI,QACpB,SAACC,EAAKC,GAAN,OAAeN,EAAKO,SAASD,GAAOD,EAAM,EAAIA,IAC9C,GAEF,EAEN,MAAO,CAELG,MAAOjB,EAAKkB,OAAOC,OAASX,EAAKE,KAAKQ,OAAOC,KAAO,EAAIP,EACxDZ,KAAMQ,EAAKE,SAIfL,EAAYe,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEJ,MAAQK,EAAEL,MAAQ,GAAK,KAErD,IAAMM,EAAclB,EAAYpD,MAAM,EAAG,GAAGuE,QAAO,SAAAP,GACjD,OAAIA,EAAMjB,KAAKkB,OAAOC,OAASnB,EAAKkB,OAAOC,QAMvCM,EAAYzB,EAAK0B,UAEkBD,EAAjCE,MAAiCF,EAA1BG,UAA0BH,EAAfI,WAE1B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAASC,SAAS,GAChB,yBAAKjO,UAAWkO,IAAOC,WACrB,kBAAC,IAAD,CACEjS,MAAOiQ,EAAKW,YAAY5Q,MACxBkS,YAAajC,EAAKW,YAAYsB,aAAejC,EAAKkC,UAEnDlC,EAAKW,YAAYwB,OAChB,yBAAKtO,UAAWkO,IAAOK,cACrB,kBAAC,IAAD,CACEvO,UAAWkO,IAAOM,SAClBlW,MAAO6T,EAAKW,YAAYwB,MAAMG,gBAAgBnW,MAC9C6D,IAAI,eAELgQ,EAAKW,YAAY4B,cAChB,yBAAK1O,UAAWkO,IAAOS,QACpBxC,EAAKW,YAAY4B,eAM1B,yBAAK1O,UAAWkO,IAAOU,SACpBC,EAqBD,yBAAK7O,UAAWkO,IAAOY,UACrB,wBAAI9O,UAAWkO,IAAOa,UAAY,SAC/B5C,EAAKW,YAAY5Q,MAAM8S,eAE1B,yBAAKhP,UAAWkO,IAAOe,MAAO9C,EAAKW,YAAYmC,MAC/C,yBACEjP,UAAWkO,IAAOC,UAClBtM,wBAAyB,CAAEC,OAAQqK,EAAK+C,SAI5C,wBAAIhS,MAAO,CAAEiS,aAAc,MAC3B,yBAAKnP,UAAWkO,IAAOkB,iBAAmB,UACxC,yBAAKpP,UAAWkO,IAAOmB,gBACpB9C,GACC,kBAAC,OAAD,CAAM+C,GAAI/C,EAASc,OAAOC,KAAMiC,IAAI,QAApC,KACKhD,EAASO,YAAY5Q,QAI9B,yBAAK8D,UAAWkO,IAAOsB,iBACpBpE,GACC,kBAAC,OAAD,CAAMkE,GAAIlE,EAAKiC,OAAOC,KAAMiC,IAAI,QAC7BnE,EAAK0B,YAAY5Q,MADpB,WAUZ,kBAAC,IAAD,CAASgB,MAAO,CAAEuS,UAAW,GAAIN,aAAc,GAAIlB,QAAS,aAC1D,yBAAKjO,UAAWkO,IAAOwB,gBACrB,wBAAI1P,UAAU,+BAAd,qBACA,yBAAKA,UAAWkO,IAAOyB,UACpBjC,EAAY/T,KAAI,SAAAsJ,GAAG,OAClB,kBAAC,OAAD,CACE/I,IAAK+I,EAAIkJ,KAAKkB,OAAOC,KACrBgC,GAAIrM,EAAIkJ,KAAKkB,OAAOC,KACpBpQ,MAAO,CAAE0S,eAAgB,SAEzB,yBACE5P,UACEkO,IAAO/B,KACP,0HAIDlJ,EAAIkJ,KAAKW,YAAYwB,MACpB,kBAAC,IAAD,CACEtO,UAAWkO,IAAOM,SAClBlW,MAAO2K,EAAIkJ,KAAKW,YAAYwB,MAAMG,gBAAgBnW,MAClD6D,IAAI,eAGN,yBAAK6D,UAAWkO,IAAO2B,aAEzB,yBAAK7P,UAAWkO,IAAOU,QACrB,wBAAI5O,UAAU,QAAQiD,EAAIkJ,KAAKW,YAAY5Q,OAC3C,2BAAI+G,EAAIkJ,KAAKkC,kBAQ3B,kBAAC,IAAD,CAASnR,MAAO,CAAEuS,UAAW,GAAIN,aAAc,KAC7C,yBAAKnP,UAAWkO,IAAO4B,aACrB,kBAACjE,EAAD,CACEG,OAAQG,EAAKjF,GACbhL,MAAOiQ,EAAKW,YAAY5Q,MACxB6K,IAAI,SA8BS","file":"component---src-templates-blog-post-tsx-d7a1306d5676aedd1ecb.js","sourcesContent":["'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","'use strict';\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DiscussionEmbed = exports.CommentEmbed = exports.CommentCount = undefined;\n\nvar _CommentCount = require('./CommentCount');\n\nvar _CommentEmbed = require('./CommentEmbed');\n\nvar _DiscussionEmbed = require('./DiscussionEmbed');\n\nexports.CommentCount = _CommentCount.CommentCount;\nexports.CommentEmbed = _CommentEmbed.CommentEmbed;\nexports.DiscussionEmbed = _DiscussionEmbed.DiscussionEmbed;\nvar Disqus = {\n  CommentCount: _CommentCount.CommentCount,\n  CommentEmbed: _CommentEmbed.CommentEmbed,\n  DiscussionEmbed: _DiscussionEmbed.DiscussionEmbed\n};\nexports[\"default\"] = Disqus;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar logDeprecationNotice = function logDeprecationNotice(prop, replacement) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  console.log(\"\\n    The \\\"\" + prop + \"\\\" prop is now deprecated and will be removed in the next major version\\n    of \\\"gatsby-image\\\".\\n    \");\n\n  if (replacement) {\n    console.log(\"Please use \" + replacement + \" instead of \\\"\" + prop + \"\\\".\");\n  }\n}; // Handle legacy props during their deprecation phase\n\n\nvar convertProps = function convertProps(props) {\n  var convertedProps = (0, _extends2[\"default\"])({}, props);\n  var resolutions = convertedProps.resolutions,\n      sizes = convertedProps.sizes,\n      critical = convertedProps.critical;\n\n  if (resolutions) {\n    convertedProps.fixed = resolutions;\n    delete convertedProps.resolutions;\n  }\n\n  if (sizes) {\n    convertedProps.fluid = sizes;\n    delete convertedProps.sizes;\n  }\n\n  if (critical) {\n    logDeprecationNotice(\"critical\", \"the native \\\"loading\\\" attribute\");\n    convertedProps.loading = \"eager\";\n  } // convert fluid & fixed to arrays so we only have to work with arrays\n\n\n  if (convertedProps.fluid) {\n    convertedProps.fluid = groupByMedia([].concat(convertedProps.fluid));\n  }\n\n  if (convertedProps.fixed) {\n    convertedProps.fixed = groupByMedia([].concat(convertedProps.fixed));\n  }\n\n  return convertedProps;\n};\n/**\n * Find the source of an image to use as a key in the image cache.\n * Use `the first image in either `fixed` or `fluid`\n * @param {{fluid: {src: string}[], fixed: {src: string}[]}} args\n * @return {string}\n */\n\n\nvar getImageSrcKey = function getImageSrcKey(_ref) {\n  var fluid = _ref.fluid,\n      fixed = _ref.fixed;\n  var data = fluid && fluid[0] || fixed && fixed[0];\n  return data.src;\n}; // Cache if we've seen an image before so we don't bother with\n// lazy-loading & fading in on subsequent mounts.\n\n\nvar imageCache = Object.create({});\n\nvar inImageCache = function inImageCache(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  return imageCache[src] || false;\n};\n\nvar activateCacheForImage = function activateCacheForImage(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  imageCache[src] = true;\n}; // Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\n\n\nvar hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nvar isBrowser = typeof window !== \"undefined\";\nvar hasIOSupport = isBrowser && window.IntersectionObserver;\nvar io;\nvar listeners = new WeakMap();\n\nfunction getIO() {\n  if (typeof io === \"undefined\" && typeof window !== \"undefined\" && window.IntersectionObserver) {\n    io = new window.IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        if (listeners.has(entry.target)) {\n          var cb = listeners.get(entry.target); // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n\n          if (entry.isIntersecting || entry.intersectionRatio > 0) {\n            io.unobserve(entry.target);\n            listeners[\"delete\"](entry.target);\n            cb();\n          }\n        }\n      });\n    }, {\n      rootMargin: \"200px\"\n    });\n  }\n\n  return io;\n}\n\nfunction generateImageSources(imageVariants) {\n  return imageVariants.map(function (_ref2) {\n    var src = _ref2.src,\n        srcSet = _ref2.srcSet,\n        srcSetWebp = _ref2.srcSetWebp,\n        media = _ref2.media,\n        sizes = _ref2.sizes;\n    return _react[\"default\"].createElement(_react[\"default\"].Fragment, {\n      key: src\n    }, srcSetWebp && _react[\"default\"].createElement(\"source\", {\n      type: \"image/webp\",\n      media: media,\n      srcSet: srcSetWebp,\n      sizes: sizes\n    }), _react[\"default\"].createElement(\"source\", {\n      media: media,\n      srcSet: srcSet,\n      sizes: sizes\n    }));\n  });\n} // Return an array ordered by elements having a media prop, does not use\n// native sort, as a stable sort is not guaranteed by all browsers/versions\n\n\nfunction groupByMedia(imageVariants) {\n  var withMedia = [];\n  var without = [];\n  imageVariants.forEach(function (variant) {\n    return (variant.media ? withMedia : without).push(variant);\n  });\n\n  if (without.length > 1 && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"We've found \" + without.length + \" sources without a media property. They might be ignored by the browser, see: https://www.gatsbyjs.org/packages/gatsby-image/#art-directing-multiple-images\");\n  }\n\n  return [].concat(withMedia, without);\n}\n\nfunction generateTracedSVGSources(imageVariants) {\n  return imageVariants.map(function (_ref3) {\n    var src = _ref3.src,\n        media = _ref3.media,\n        tracedSVG = _ref3.tracedSVG;\n    return _react[\"default\"].createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: tracedSVG\n    });\n  });\n}\n\nfunction generateBase64Sources(imageVariants) {\n  return imageVariants.map(function (_ref4) {\n    var src = _ref4.src,\n        media = _ref4.media,\n        base64 = _ref4.base64;\n    return _react[\"default\"].createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: base64\n    });\n  });\n}\n\nfunction generateNoscriptSource(_ref5, isWebp) {\n  var srcSet = _ref5.srcSet,\n      srcSetWebp = _ref5.srcSetWebp,\n      media = _ref5.media,\n      sizes = _ref5.sizes;\n  var src = isWebp ? srcSetWebp : srcSet;\n  var mediaAttr = media ? \"media=\\\"\" + media + \"\\\" \" : \"\";\n  var typeAttr = isWebp ? \"type='image/webp' \" : \"\";\n  var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\" \" : \"\";\n  return \"<source \" + typeAttr + mediaAttr + \"srcset=\\\"\" + src + \"\\\" \" + sizesAttr + \"/>\";\n}\n\nfunction generateNoscriptSources(imageVariants) {\n  return imageVariants.map(function (variant) {\n    return (variant.srcSetWebp ? generateNoscriptSource(variant, true) : \"\") + generateNoscriptSource(variant);\n  }).join(\"\");\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getIO();\n\n  if (observer) {\n    observer.observe(el);\n    listeners.set(el, cb);\n  }\n\n  return function () {\n    observer.unobserve(el);\n    listeners[\"delete\"](el);\n  };\n};\n\nvar noscriptImg = function noscriptImg(props) {\n  // Check if prop exists before adding each attribute to the string output below to prevent\n  // HTML validation issues caused by empty values like width=\"\" and height=\"\"\n  var src = props.src ? \"src=\\\"\" + props.src + \"\\\" \" : \"src=\\\"\\\" \"; // required attribute\n\n  var sizes = props.sizes ? \"sizes=\\\"\" + props.sizes + \"\\\" \" : \"\";\n  var srcSet = props.srcSet ? \"srcset=\\\"\" + props.srcSet + \"\\\" \" : \"\";\n  var title = props.title ? \"title=\\\"\" + props.title + \"\\\" \" : \"\";\n  var alt = props.alt ? \"alt=\\\"\" + props.alt + \"\\\" \" : \"alt=\\\"\\\" \"; // required attribute\n\n  var width = props.width ? \"width=\\\"\" + props.width + \"\\\" \" : \"\";\n  var height = props.height ? \"height=\\\"\" + props.height + \"\\\" \" : \"\";\n  var crossOrigin = props.crossOrigin ? \"crossorigin=\\\"\" + props.crossOrigin + \"\\\" \" : \"\";\n  var loading = props.loading ? \"loading=\\\"\" + props.loading + \"\\\" \" : \"\";\n  var draggable = props.draggable ? \"draggable=\\\"\" + props.draggable + \"\\\" \" : \"\";\n  var sources = generateNoscriptSources(props.imageVariants);\n  return \"<picture>\" + sources + \"<img \" + loading + width + height + sizes + srcSet + src + alt + title + crossOrigin + draggable + \"style=\\\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\\\"/></picture>\";\n}; // Earlier versions of gatsby-image during the 2.x cycle did not wrap\n// the `Img` component in a `picture` element. This maintains compatibility\n// until a breaking change can be introduced in the next major release\n\n\nvar Placeholder = function Placeholder(_ref6) {\n  var src = _ref6.src,\n      imageVariants = _ref6.imageVariants,\n      generateSources = _ref6.generateSources,\n      spreadProps = _ref6.spreadProps;\n\n  var baseImage = _react[\"default\"].createElement(Img, (0, _extends2[\"default\"])({\n    src: src\n  }, spreadProps));\n\n  return imageVariants.length > 1 ? _react[\"default\"].createElement(\"picture\", null, generateSources(imageVariants), baseImage) : baseImage;\n};\n\nvar Img = _react[\"default\"].forwardRef(function (props, ref) {\n  var sizes = props.sizes,\n      srcSet = props.srcSet,\n      src = props.src,\n      style = props.style,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      onClick = props.onClick,\n      loading = props.loading,\n      draggable = props.draggable,\n      otherProps = (0, _objectWithoutPropertiesLoose2[\"default\"])(props, [\"sizes\", \"srcSet\", \"src\", \"style\", \"onLoad\", \"onError\", \"onClick\", \"loading\", \"draggable\"]);\n  return _react[\"default\"].createElement(\"img\", (0, _extends2[\"default\"])({\n    sizes: sizes,\n    srcSet: srcSet,\n    src: src\n  }, otherProps, {\n    onLoad: onLoad,\n    onError: onError,\n    onClick: onClick,\n    ref: ref,\n    loading: loading,\n    draggable: draggable,\n    style: (0, _extends2[\"default\"])({\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      objectPosition: \"center\"\n    }, style)\n  }));\n});\n\nImg.propTypes = {\n  style: _propTypes[\"default\"].object,\n  onError: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func,\n  onLoad: _propTypes[\"default\"].func\n};\n\nvar Image =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2[\"default\"])(Image, _React$Component);\n\n  function Image(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n\n    _this.seenBefore = isBrowser && inImageCache(props);\n    _this.isCritical = props.loading === \"eager\" || props.critical;\n    _this.addNoScript = !(_this.isCritical && !props.fadeIn);\n    _this.useIOSupport = !hasNativeLazyLoadSupport && hasIOSupport && !_this.isCritical && !_this.seenBefore;\n    var isVisible = _this.isCritical || isBrowser && (hasNativeLazyLoadSupport || !_this.useIOSupport);\n    _this.state = {\n      isVisible: isVisible,\n      imgLoaded: false,\n      imgCached: false,\n      fadeIn: !_this.seenBefore && props.fadeIn\n    };\n    _this.imageRef = _react[\"default\"].createRef();\n    _this.handleImageLoaded = _this.handleImageLoaded.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.state.isVisible && typeof this.props.onStartLoad === \"function\") {\n      this.props.onStartLoad({\n        wasCached: inImageCache(this.props)\n      });\n    }\n\n    if (this.isCritical) {\n      var img = this.imageRef.current;\n\n      if (img && img.complete) {\n        this.handleImageLoaded();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.cleanUpListeners) {\n      this.cleanUpListeners();\n    }\n  } // Specific to IntersectionObserver based lazy-load support\n  ;\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.useIOSupport && ref) {\n      this.cleanUpListeners = listenToIntersections(ref, function () {\n        var imageInCache = inImageCache(_this2.props);\n\n        if (!_this2.state.isVisible && typeof _this2.props.onStartLoad === \"function\") {\n          _this2.props.onStartLoad({\n            wasCached: imageInCache\n          });\n        } // imgCached and imgLoaded must update after isVisible,\n        // Once isVisible is true, imageRef becomes accessible, which imgCached needs access to.\n        // imgLoaded and imgCached are in a 2nd setState call to be changed together,\n        // avoiding initiating unnecessary animation frames from style changes.\n\n\n        _this2.setState({\n          isVisible: true\n        }, function () {\n          return _this2.setState({\n            imgLoaded: imageInCache,\n            // `currentSrc` should be a string, but can be `undefined` in IE,\n            // !! operator validates the value is not undefined/null/\"\"\n            imgCached: !!_this2.imageRef.current.currentSrc\n          });\n        });\n      });\n    }\n  };\n\n  _proto.handleImageLoaded = function handleImageLoaded() {\n    activateCacheForImage(this.props);\n    this.setState({\n      imgLoaded: true\n    });\n\n    if (this.props.onLoad) {\n      this.props.onLoad();\n    }\n  };\n\n  _proto.render = function render() {\n    var _convertProps = convertProps(this.props),\n        title = _convertProps.title,\n        alt = _convertProps.alt,\n        className = _convertProps.className,\n        _convertProps$style = _convertProps.style,\n        style = _convertProps$style === void 0 ? {} : _convertProps$style,\n        _convertProps$imgStyl = _convertProps.imgStyle,\n        imgStyle = _convertProps$imgStyl === void 0 ? {} : _convertProps$imgStyl,\n        _convertProps$placeho = _convertProps.placeholderStyle,\n        placeholderStyle = _convertProps$placeho === void 0 ? {} : _convertProps$placeho,\n        placeholderClassName = _convertProps.placeholderClassName,\n        fluid = _convertProps.fluid,\n        fixed = _convertProps.fixed,\n        backgroundColor = _convertProps.backgroundColor,\n        durationFadeIn = _convertProps.durationFadeIn,\n        Tag = _convertProps.Tag,\n        itemProp = _convertProps.itemProp,\n        loading = _convertProps.loading,\n        draggable = _convertProps.draggable;\n\n    var shouldReveal = this.state.fadeIn === false || this.state.imgLoaded;\n    var shouldFadeIn = this.state.fadeIn === true && !this.state.imgCached;\n    var imageStyle = (0, _extends2[\"default\"])({\n      opacity: shouldReveal ? 1 : 0,\n      transition: shouldFadeIn ? \"opacity \" + durationFadeIn + \"ms\" : \"none\"\n    }, imgStyle);\n    var bgColor = typeof backgroundColor === \"boolean\" ? \"lightgray\" : backgroundColor;\n    var delayHideStyle = {\n      transitionDelay: durationFadeIn + \"ms\"\n    };\n    var imagePlaceholderStyle = (0, _extends2[\"default\"])({\n      opacity: this.state.imgLoaded ? 0 : 1\n    }, shouldFadeIn && delayHideStyle, {}, imgStyle, {}, placeholderStyle);\n    var placeholderImageProps = {\n      title: title,\n      alt: !this.state.isVisible ? alt : \"\",\n      style: imagePlaceholderStyle,\n      className: placeholderClassName,\n      itemProp: itemProp\n    };\n\n    if (fluid) {\n      var imageVariants = fluid;\n      var image = imageVariants[0];\n      return _react[\"default\"].createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: (0, _extends2[\"default\"])({\n          position: \"relative\",\n          overflow: \"hidden\"\n        }, style),\n        ref: this.handleRef,\n        key: \"fluid-\" + JSON.stringify(image.srcSet)\n      }, _react[\"default\"].createElement(Tag, {\n        style: {\n          width: \"100%\",\n          paddingBottom: 100 / image.aspectRatio + \"%\"\n        }\n      }), bgColor && _react[\"default\"].createElement(Tag, {\n        title: title,\n        style: (0, _extends2[\"default\"])({\n          backgroundColor: bgColor,\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          right: 0,\n          left: 0\n        }, shouldFadeIn && delayHideStyle)\n      }), image.base64 && _react[\"default\"].createElement(Placeholder, {\n        src: image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateBase64Sources\n      }), image.tracedSVG && _react[\"default\"].createElement(Placeholder, {\n        src: image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && _react[\"default\"].createElement(\"picture\", null, generateImageSources(imageVariants), _react[\"default\"].createElement(Img, {\n        alt: alt,\n        title: title,\n        sizes: image.sizes,\n        src: image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        onClick: this.props.onClick,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && _react[\"default\"].createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2[\"default\"])({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, image, {\n            imageVariants: imageVariants\n          }))\n        }\n      }));\n    }\n\n    if (fixed) {\n      var _imageVariants = fixed;\n      var _image = _imageVariants[0];\n      var divStyle = (0, _extends2[\"default\"])({\n        position: \"relative\",\n        overflow: \"hidden\",\n        display: \"inline-block\",\n        width: _image.width,\n        height: _image.height\n      }, style);\n\n      if (style.display === \"inherit\") {\n        delete divStyle.display;\n      }\n\n      return _react[\"default\"].createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: divStyle,\n        ref: this.handleRef,\n        key: \"fixed-\" + JSON.stringify(_image.srcSet)\n      }, bgColor && _react[\"default\"].createElement(Tag, {\n        title: title,\n        style: (0, _extends2[\"default\"])({\n          backgroundColor: bgColor,\n          width: _image.width,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          height: _image.height\n        }, shouldFadeIn && delayHideStyle)\n      }), _image.base64 && _react[\"default\"].createElement(Placeholder, {\n        src: _image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateBase64Sources\n      }), _image.tracedSVG && _react[\"default\"].createElement(Placeholder, {\n        src: _image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && _react[\"default\"].createElement(\"picture\", null, generateImageSources(_imageVariants), _react[\"default\"].createElement(Img, {\n        alt: alt,\n        title: title,\n        width: _image.width,\n        height: _image.height,\n        sizes: _image.sizes,\n        src: _image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: _image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        onClick: this.props.onClick,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && _react[\"default\"].createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2[\"default\"])({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, _image, {\n            imageVariants: _imageVariants\n          }))\n        }\n      }));\n    }\n\n    return null;\n  };\n\n  return Image;\n}(_react[\"default\"].Component);\n\nImage.defaultProps = {\n  fadeIn: true,\n  durationFadeIn: 500,\n  alt: \"\",\n  Tag: \"div\",\n  // We set it to `lazy` by default because it's best to default to a performant\n  // setting and let the user \"opt out\" to `eager`\n  loading: \"lazy\"\n};\n\nvar fixedObject = _propTypes[\"default\"].shape({\n  width: _propTypes[\"default\"].number.isRequired,\n  height: _propTypes[\"default\"].number.isRequired,\n  src: _propTypes[\"default\"].string.isRequired,\n  srcSet: _propTypes[\"default\"].string.isRequired,\n  base64: _propTypes[\"default\"].string,\n  tracedSVG: _propTypes[\"default\"].string,\n  srcWebp: _propTypes[\"default\"].string,\n  srcSetWebp: _propTypes[\"default\"].string,\n  media: _propTypes[\"default\"].string\n});\n\nvar fluidObject = _propTypes[\"default\"].shape({\n  aspectRatio: _propTypes[\"default\"].number.isRequired,\n  src: _propTypes[\"default\"].string.isRequired,\n  srcSet: _propTypes[\"default\"].string.isRequired,\n  sizes: _propTypes[\"default\"].string.isRequired,\n  base64: _propTypes[\"default\"].string,\n  tracedSVG: _propTypes[\"default\"].string,\n  srcWebp: _propTypes[\"default\"].string,\n  srcSetWebp: _propTypes[\"default\"].string,\n  media: _propTypes[\"default\"].string\n});\n\nImage.propTypes = {\n  resolutions: fixedObject,\n  sizes: fluidObject,\n  fixed: _propTypes[\"default\"].oneOfType([fixedObject, _propTypes[\"default\"].arrayOf(fixedObject)]),\n  fluid: _propTypes[\"default\"].oneOfType([fluidObject, _propTypes[\"default\"].arrayOf(fluidObject)]),\n  fadeIn: _propTypes[\"default\"].bool,\n  durationFadeIn: _propTypes[\"default\"].number,\n  title: _propTypes[\"default\"].string,\n  alt: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].object]),\n  // Support Glamor's css prop.\n  critical: _propTypes[\"default\"].bool,\n  crossOrigin: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].bool]),\n  style: _propTypes[\"default\"].object,\n  imgStyle: _propTypes[\"default\"].object,\n  placeholderStyle: _propTypes[\"default\"].object,\n  placeholderClassName: _propTypes[\"default\"].string,\n  backgroundColor: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].string, _propTypes[\"default\"].bool]),\n  onLoad: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onClick: _propTypes[\"default\"].func,\n  onStartLoad: _propTypes[\"default\"].func,\n  Tag: _propTypes[\"default\"].string,\n  itemProp: _propTypes[\"default\"].string,\n  loading: _propTypes[\"default\"].oneOf([\"auto\", \"lazy\", \"eager\"]),\n  draggable: _propTypes[\"default\"].bool\n};\nvar _default = Image;\nexports[\"default\"] = _default;","'use strict';\n\nrequire(\"core-js/modules/es6.number.constructor\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.date.to-string\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentEmbed = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar RADIX_BASE = 36;\n\nvar CommentEmbed = exports.CommentEmbed = function (_React$Component) {\n  _inherits(CommentEmbed, _React$Component);\n\n  function CommentEmbed() {\n    _classCallCheck(this, CommentEmbed);\n\n    return _possibleConstructorReturn(this, (CommentEmbed.__proto__ || Object.getPrototypeOf(CommentEmbed)).apply(this, arguments));\n  }\n\n  _createClass(CommentEmbed, [{\n    key: 'getSrc',\n    value: function getSrc() {\n      var post = Number(this.props.commentId).toString(RADIX_BASE);\n      var parentParam = this.props.showParentComment ? '1' : '0';\n      var mediaParam = this.props.showMedia ? '1' : '0';\n      return 'https://embed.disqus.com/p/' + post + '?p=' + parentParam + '&m=' + mediaParam;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2[\"default\"].createElement('iframe', {\n        src: this.getSrc(),\n        width: this.props.width,\n        height: this.props.height,\n        seamless: 'seamless',\n        scrolling: 'no',\n        frameBorder: '0'\n      });\n    }\n  }]);\n\n  return CommentEmbed;\n}(_react2[\"default\"].Component);\n\nCommentEmbed.defaultProps = {\n  showMedia: true,\n  showParentComment: true,\n  width: 420,\n  height: 320\n};","'use strict';\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DiscussionEmbed = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DiscussionEmbed = exports.DiscussionEmbed = function (_React$Component) {\n  _inherits(DiscussionEmbed, _React$Component);\n\n  function DiscussionEmbed() {\n    _classCallCheck(this, DiscussionEmbed);\n\n    return _possibleConstructorReturn(this, (DiscussionEmbed.__proto__ || Object.getPrototypeOf(DiscussionEmbed)).apply(this, arguments));\n  }\n\n  _createClass(DiscussionEmbed, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      if (typeof window !== 'undefined' && window.disqus_shortname && window.disqus_shortname !== this.props.shortname) this.cleanInstance();\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadInstance();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps) {\n      if (this.props.shortname !== nextProps.shortname) this.cleanInstance();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadInstance();\n    }\n  }, {\n    key: 'loadInstance',\n    value: function loadInstance() {\n      var doc = window.document;\n\n      if (window && window.DISQUS && doc.getElementById('dsq-embed-scr')) {\n        window.DISQUS.reset({\n          reload: true,\n          config: this.getDisqusConfig(this.props.config)\n        });\n      } else {\n        window.disqus_config = this.getDisqusConfig(this.props.config);\n        window.disqus_shortname = this.props.shortname;\n        (0, _utils.insertScript)('https://' + this.props.shortname + '.disqus.com/embed.js', 'dsq-embed-scr', doc.body);\n      }\n    }\n  }, {\n    key: 'cleanInstance',\n    value: function cleanInstance() {\n      var doc = window.document;\n      (0, _utils.removeScript)('dsq-embed-scr', doc.body);\n      if (window && window.DISQUS) window.DISQUS.reset({});\n\n      try {\n        delete window.DISQUS;\n      } catch (error) {\n        window.DISQUS = undefined;\n      }\n\n      var disqusThread = doc.getElementById('disqus_thread');\n\n      if (disqusThread) {\n        while (disqusThread.hasChildNodes()) {\n          disqusThread.removeChild(disqusThread.firstChild);\n        }\n      }\n    }\n  }, {\n    key: 'getDisqusConfig',\n    value: function getDisqusConfig(config) {\n      return function () {\n        this.page.identifier = config.identifier;\n        this.page.url = config.url;\n        this.page.title = config.title;\n        this.callbacks.onNewComment = [config.onNewComment];\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2[\"default\"].createElement('div', {\n        id: 'disqus_thread'\n      });\n    }\n  }]);\n\n  return DiscussionEmbed;\n}(_react2[\"default\"].Component);","'use strict';\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommentCount = undefined;\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar queueResetCount = (0, _utils.debounce)(function () {\n  if (window.DISQUSWIDGETS) window.DISQUSWIDGETS.getCount({\n    reset: true\n  });\n}, 300, false); // eslint-disable-line no-magic-numbers\n\nvar CommentCount = exports.CommentCount = function (_React$Component) {\n  _inherits(CommentCount, _React$Component);\n\n  function CommentCount() {\n    _classCallCheck(this, CommentCount);\n\n    return _possibleConstructorReturn(this, (CommentCount.__proto__ || Object.getPrototypeOf(CommentCount)).apply(this, arguments));\n  }\n\n  _createClass(CommentCount, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadInstance();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps) {\n      if (this.props === nextProps) return false;\n      return (0, _utils.shallowComparison)(this.props, nextProps);\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(nextProps) {\n      if (this.props.shortname !== nextProps.shortname) this.cleanInstance();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadInstance();\n    }\n  }, {\n    key: 'loadInstance',\n    value: function loadInstance() {\n      var doc = window.document;\n      if (doc.getElementById('dsq-count-scr')) queueResetCount();else (0, _utils.insertScript)('https://' + this.props.shortname + '.disqus.com/count.js', 'dsq-count-scr', doc.body);\n    }\n  }, {\n    key: 'cleanInstance',\n    value: function cleanInstance() {\n      var body = window.document.body;\n      (0, _utils.removeScript)('dsq-count-scr', body); // count.js only reassigns this window object if it's undefined.\n\n      window.DISQUSWIDGETS = undefined;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2[\"default\"].createElement('span', {\n        className: 'disqus-comment-count',\n        'data-disqus-identifier': this.props.config.identifier,\n        'data-disqus-url': this.props.config.url\n      }, this.props.children);\n    }\n  }]);\n\n  return CommentCount;\n}(_react2[\"default\"].Component);","'use strict';\nvar global = require('./_global');\nvar has = require('./_has');\nvar cof = require('./_cof');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar toPrimitive = require('./_to-primitive');\nvar fails = require('./_fails');\nvar gOPN = require('./_object-gopn').f;\nvar gOPD = require('./_object-gopd').f;\nvar dP = require('./_object-dp').f;\nvar $trim = require('./_string-trim').trim;\nvar NUMBER = 'Number';\nvar $Number = global[NUMBER];\nvar Base = $Number;\nvar proto = $Number.prototype;\n// Opera ~12 has broken Object#toString\nvar BROKEN_COF = cof(require('./_object-create')(proto)) == NUMBER;\nvar TRIM = 'trim' in String.prototype;\n\n// 7.1.3 ToNumber(argument)\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  if (typeof it == 'string' && it.length > 2) {\n    it = TRIM ? it.trim() : $trim(it, 3);\n    var first = it.charCodeAt(0);\n    var third, radix, maxCode;\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i\n        default: return +it;\n      }\n      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {\n        code = digits.charCodeAt(i);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\nif (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {\n  $Number = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var that = this;\n    return that instanceof $Number\n      // check on 1..constructor(foo) case\n      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)\n        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);\n  };\n  for (var keys = require('./_descriptors') ? gOPN(Base) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES6 (in case, if modules with ES6 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(Base, key = keys[j]) && !has($Number, key)) {\n      dP($Number, key, gOPD(Base, key));\n    }\n  }\n  $Number.prototype = proto;\n  proto.constructor = $Number;\n  require('./_redefine')(global, NUMBER, $Number);\n}\n","'use strict';\n\nrequire(\"core-js/modules/es7.symbol.async-iterator\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.string.iterator\");\n\nrequire(\"core-js/modules/es6.set\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/es6.array.is-array\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.insertScript = insertScript;\nexports.removeScript = removeScript;\nexports.debounce = debounce;\nexports.isReactElement = isReactElement;\nexports.shallowComparison = shallowComparison;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction insertScript(src, id, parentElement) {\n  var script = window.document.createElement('script');\n  script.async = true;\n  script.src = src;\n  script.id = id;\n  parentElement.appendChild(script);\n  return script;\n}\n\nfunction removeScript(id, parentElement) {\n  var script = window.document.getElementById(id);\n  if (script) parentElement.removeChild(script);\n}\n\nfunction debounce(func, wait, runOnFirstCall) {\n  var timeout = void 0;\n  return function () {\n    var context = this; // eslint-disable-line consistent-this\n\n    var args = arguments;\n\n    var deferredExecution = function deferredExecution() {\n      timeout = null;\n      if (!runOnFirstCall) func.apply(context, args);\n    };\n\n    var callNow = runOnFirstCall && !timeout;\n    window.clearTimeout(timeout);\n    timeout = setTimeout(deferredExecution, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction isReactElement(element) {\n  if (_react2[\"default\"].isValidElement(element)) {\n    return true;\n  } else if (Array.isArray(element)) {\n    return element.some(function (value) {\n      return _react2[\"default\"].isValidElement(value);\n    });\n  }\n\n  return false;\n}\n\nfunction shallowComparison(currentProps, nextProps) {\n  // Perform a comparison of all props, excluding React Elements, to prevent unnecessary updates\n  var propNames = new Set(Object.keys(currentProps), Object.keys(nextProps)); // eslint-disable-line no-undef\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = propNames[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var name = _step.value;\n      if (currentProps[name] !== nextProps[name] && !isReactElement(currentProps[name])) return true;\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"]) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return false;\n}","import React from \"react\";\nimport { Link, graphql } from \"gatsby\";\nimport Image from \"gatsby-image\";\nimport { DiscussionEmbed } from \"disqus-react\";\nimport Layout from \"../components/layout\";\nimport SEO from \"../components/seo\";\nimport styles from \"./blog-post.module.scss\";\nimport { CardBox } from \"../components/cardbox\";\nimport { Progress } from \"../components/progress\";\n\nconst disqusShortname = \"martinschnurer-net-1\";\n\ninterface BlogPostTemplate {\n  location: any;\n  data: any;\n  pageContext: any;\n}\n\ninterface RecommendedPosts {\n  score: number;\n  post: any;\n}\n\nconst BlogPostTemplate: React.FC<BlogPostTemplate> = props => {\n  const post = props.data.thisPost;\n  const { previous, next } = props.pageContext;\n\n  const allPosts = props.data.allPosts;\n\n  const recomScores: RecommendedPosts[] = allPosts.edges.map(edge => {\n    const { tags } = edge.node.frontmatter;\n\n    const similarTags =\n      post.frontmatter.tags && tags\n        ? post.frontmatter.tags.reduce(\n            (acc, tag) => (tags.includes(tag) ? acc + 1 : acc),\n            0\n          )\n        : 0;\n\n    return {\n      // do not recommend the same post\n      score: post.fields.slug === edge.node.fields.slug ? 0 : similarTags,\n      post: edge.node\n    };\n  });\n\n  recomScores.sort((a, b) => (a.score < b.score ? 1 : -1));\n\n  const toRecommend = recomScores.slice(0, 3).filter(score => {\n    if (score.post.fields.slug === post.fields.slug) {\n      return false;\n    }\n    return true;\n  });\n\n  const postStats = post.wordCount;\n\n  const { words, sentences, paragraphs } = postStats;\n\n  return (\n    <Layout>\n      <CardBox padding={false}>\n        <div className={styles.blog_post}>\n          <SEO\n            title={post.frontmatter.title}\n            description={post.frontmatter.description || post.excerpt}\n          />\n          {post.frontmatter.cover && (\n            <div className={styles.imageWrapper}>\n              <Image\n                className={styles.topImage}\n                fluid={post.frontmatter.cover.childImageSharp.fluid}\n                alt=\"post cover\"\n              />\n              {post.frontmatter.coverCredits && (\n                <div className={styles.author}>\n                  {post.frontmatter.coverCredits}\n                </div>\n              )}\n            </div>\n          )}\n\n          <div className={styles.padded}>\n            {process.env.NODE_ENV === \"development\" && (\n              <>\n                <table>\n                  <thead>\n                    <tr>\n                      <th>Words</th>\n                      <th>Sentences</th>\n                      <th>Paragraphs</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr>\n                      <td>{words}</td>\n                      <td>{sentences}</td>\n                      <td>{paragraphs}</td>\n                    </tr>\n                  </tbody>\n                </table>\n                <Progress value={(words * 100) / 2500} />\n              </>\n            )}\n            <div className={styles.blogHtml}>\n              <h1 className={styles.mainTitle + \" mb-6\"}>\n                {post.frontmatter.title.toUpperCase()}\n              </h1>\n              <div className={styles.date}>{post.frontmatter.date}</div>\n              <div\n                className={styles.blog_post}\n                dangerouslySetInnerHTML={{ __html: post.html }}\n              />\n            </div>\n\n            <hr style={{ marginBottom: 10 }} />\n            <div className={styles.bottomNavigation + \" mt-20\"}>\n              <div className={styles.navigationLeft}>\n                {previous && (\n                  <Link to={previous.fields.slug} rel=\"prev\">\n                    ← {previous.frontmatter.title}\n                  </Link>\n                )}\n              </div>\n              <div className={styles.navigationRight}>\n                {next && (\n                  <Link to={next.fields.slug} rel=\"next\">\n                    {next.frontmatter.title} →\n                  </Link>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </CardBox>\n\n      <CardBox style={{ marginTop: 15, marginBottom: 25, padding: \"0px 20px\" }}>\n        <div className={styles.recommendPanel}>\n          <h1 className=\"text-3xl font-semibold mb-3\">You may also like</h1>\n          <div className={styles.postList}>\n            {toRecommend.map(obj => (\n              <Link\n                key={obj.post.fields.slug}\n                to={obj.post.fields.slug}\n                style={{ textDecoration: \"none\" }}\n              >\n                <div\n                  className={\n                    styles.post +\n                    \" \" +\n                    \"hover:shadow-xl hover:border-transparent transition-all border rounded-xl transform hover:-translate-y-2 duration-300\"\n                  }\n                >\n                  {obj.post.frontmatter.cover ? (\n                    <Image\n                      className={styles.topImage}\n                      fluid={obj.post.frontmatter.cover.childImageSharp.fluid}\n                      alt=\"post cover\"\n                    />\n                  ) : (\n                    <div className={styles.emptyCover} />\n                  )}\n                  <div className={styles.padded}>\n                    <h1 className=\"mb-6\">{obj.post.frontmatter.title}</h1>\n                    <p>{obj.post.excerpt}</p>\n                  </div>\n                </div>\n              </Link>\n            ))}\n          </div>\n        </div>\n      </CardBox>\n      <CardBox style={{ marginTop: 15, marginBottom: 25 }}>\n        <div className={styles.discuss_box}>\n          <EmbeddedDis\n            postId={post.id}\n            title={post.frontmatter.title}\n            url=\"\"\n            // url={`/${post.frontmatter.title}`}\n          />\n        </div>\n      </CardBox>\n    </Layout>\n  );\n};\n\ninterface EmbeddedDisProps {\n  postId: string;\n  title: string;\n  url: string;\n}\n\nconst EmbeddedDis: React.FC<EmbeddedDisProps> = React.memo(\n  ({ postId, title, url }) => (\n    <DiscussionEmbed\n      shortname={disqusShortname}\n      config={{\n        url,\n        identifier: postId,\n        title\n      }}\n    />\n  )\n);\n\nexport default BlogPostTemplate;\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n      }\n    }\n    thisPost: markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      fields {\n        slug\n      }\n      wordCount {\n        paragraphs\n        sentences\n        words\n      }\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        categories\n        tags\n        cover {\n          childImageSharp {\n            fluid(\n              traceSVG: { color: \"#29276c\", optCurve: true, threshold: 50 }\n            ) {\n              ...GatsbyImageSharpFluid_tracedSVG\n            }\n          }\n        }\n        coverCredits\n      }\n    }\n    allPosts: allMarkdownRemark {\n      edges {\n        node {\n          fields {\n            slug\n          }\n          excerpt\n          frontmatter {\n            categories\n            title\n            tags\n            cover {\n              childImageSharp {\n                fluid(\n                  traceSVG: { color: \"#29276c\", optCurve: true, threshold: 50 }\n                ) {\n                  ...GatsbyImageSharpFluid_tracedSVG\n                }\n              }\n            }\n          }\n          timeToRead\n          id\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}