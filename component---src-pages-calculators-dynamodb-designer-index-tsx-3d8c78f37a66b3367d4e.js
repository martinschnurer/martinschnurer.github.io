(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"PZd/":function(e,t,n){var a=n("P8UN"),r=n("ys0W")(!0);a(a.S,"Object",{entries:function(e){return r(e)}})},sMne:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),l=(n("HQhv"),n("gYkd")),o=n.n(l);n("YbXK"),n("cFtU"),n("q8oJ"),n("m210"),n("4DPX"),n("zGcK"),n("rzGZ"),n("Dq+y"),n("8npG"),n("PZd/"),n("TAD1"),n("zTTH");function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c=function(e){var t=e.head,n=e.rows,l=Object(a.useState)(null),c=l[0],u=l[1],s=""===t[0]?null:c,m=0,d=null,f=null;s&&(m=t.findIndex((function(e){return e===s})),d=function(){if(s&&t[m]){var e=function(e,t){for(var n=0,a=0;a<t.length;a++)t[a]===e&&n++;return n}("#",t[m]);return d=function(e,t){var n=t.length;return e.findIndex((function(e){return e.lastIndexOf("$")===n-1}))}(t,function(e,t){for(var n="",a=0;a<t;a++)n+=e;return n}("$",e)),f=t[d],d}return-1}());var h={};return n.forEach((function(e){var t=e[m];if(t){var n=i(e),a=[n[m]];d>-1&&null!==d&&a.push(n[d]),n[m]=null,n[d]=null,n=n.filter((function(e){return null!==e})),n=[].concat(a,i(n)),t in h?h[t].push(n):h[t]=[n]}})),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.a.tableWrapper},r.a.createElement("table",{className:o.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,[].concat(i(null===s?[]:[s]),i(null===f?[]:[f]),i(t.filter((function(e){return e!==s&&e!==f})))).map((function(e,t){return r.a.createElement("th",{key:e+t},e.startsWith("#")?r.a.createElement("a",{onClick:function(){return u(e)}},e):r.a.createElement("span",null,e))})))),r.a.createElement("tbody",null,Object.entries(h).map((function(e){var t=e[0],n=e[1];return n.sort((function(e,t){return e[1]&&t[1]&&e[1].localeCompare(t[1])})).map((function(e,a){return r.a.createElement("tr",{key:a},0===a&&r.a.createElement("td",{rowSpan:n.length},t),e.slice(1).map((function(e,t){return r.a.createElement("td",{key:e+t},e)})))}))}))))))},u=function(){var e=Object(a.useState)("undefined"!=typeof window?window.localStorage.getItem("text")||"#pk, $sk":""),t=e[0],n=e[1],l=t.split("\n"),i=l[0],u=l.slice(1),s=i.split(",").map((function(e){return e.trim()})),m=u.map((function(e){return e.split(",").map((function(e){return e.trim()}))}));return r.a.createElement("div",{className:o.a.dynamodb},r.a.createElement("h2",null,"DynamoDB designer tool"),r.a.createElement("textarea",{className:o.a.tarea,value:t,onChange:function(e){var t=e.target.value;n(t),localStorage.setItem("text",t)}}),r.a.createElement(c,{head:s,rows:m}),r.a.createElement("h3",null,"How it works"),r.a.createElement("p",null,"NoSQL Workbench from AWS works really well. However, I found the process of setuping up tables unnecessary hard."),r.a.createElement("p",null,"I came with the idea, that the table and schema would be generated from the text input. You can set up your primary key and other GSI indexes. Also, you can click on these indexes and aggregate data into partitions."),r.a.createElement("h3",null,"Usage:"),r.a.createElement("ul",null,r.a.createElement("li",null,"By default ",r.a.createElement("b",null,"primary key")," is always the first column (without any sortkey)."),r.a.createElement("li",null,'Columns are always defined in the first line of the text such as "PK, SK, type" will generate three columns with a name ',r.a.createElement("i",null,"PK"),", ",r.a.createElement("i",null,"SK")," ","and ",r.a.createElement("i",null,"type")),r.a.createElement("li",null,'Text "#pk, $sk" will create column - primary key with name ',r.a.createElement("b",null,"#pk")," ","and connected sort key ",r.a.createElement("b",null,"$sk")," to this primary key"),r.a.createElement("li",null,"You can create ",r.a.createElement("b",null,"global secondary index")," with text"," ",r.a.createElement("b",null,'"##pk2, $$sk2"'),". The most important part is the count of the # and $, because they are matching together with the cound of these characters inside the name"),r.a.createElement("li",null,r.a.createElement("h4",null,"Try this example: ",r.a.createElement("br",null),r.a.createElement("small",null,"(Copy and paste to the input above)")),r.a.createElement("pre",{className:o.a.stylized},"#pk, $sk, ##pk1, $$sk2, info",r.a.createElement("br",null),"User-A, INFO, score, 3, Additional information",r.a.createElement("br",null),"User-A, Connection",r.a.createElement("br",null),"User-B, INFO, score, 4, Additional information",r.a.createElement("br",null),"User-C, INFO, score, 5, Additional information",r.a.createElement("br",null),"User-D, INFO, score, 1, Additional information",r.a.createElement("br",null)),r.a.createElement("p",null,"Table is created with your data and indexes. Take a look at header of the table. The primary key and GSI indexes are clickable. By clicking on them, you activate aggregating data by this index (also sort by the appropriate sort key). With this way, you can explore access patterns much easier.",r.a.createElement("br",null)," Pretty cool hah?"))),r.a.createElement("h3",null,"What's missing:"),r.a.createElement("ul",null,r.a.createElement("li",null,"Items can be sorted by sort key only by string type for now"),r.a.createElement("li",null,"For now, it can't sort items in table by another sort key (local secondary index)")))},s=n("9Dj+"),m=n("oMEu");t.default=function(){return r.a.createElement(s.a,null,r.a.createElement(m.a,null,r.a.createElement(u,null)))}},ys0W:function(e,t,n){var a=n("QPJK"),r=n("2mBY"),l=n("5SQf"),o=n("BnbX").f;e.exports=function(e){return function(t){for(var n,i=l(t),c=r(i),u=c.length,s=0,m=[];u>s;)n=c[s++],a&&!o.call(i,n)||m.push(e?[n,i[n]]:i[n]);return m}}},zTTH:function(e,t,n){"use strict";var a=n("P8UN"),r=n("Wadk")(6),l="findIndex",o=!0;l in[]&&Array(1)[l]((function(){o=!1})),a(a.P+a.F*o,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n("Dq1/")(l)}}]);
//# sourceMappingURL=component---src-pages-calculators-dynamodb-designer-index-tsx-3d8c78f37a66b3367d4e.js.map