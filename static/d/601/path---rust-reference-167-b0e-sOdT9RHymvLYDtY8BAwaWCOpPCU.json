{"data":{"site":{"siteMetadata":{"title":"Martin Schnürer","author":"Martin Schnürer"}},"markdownRemark":{"id":"2a2ee36e-43ac-5e4a-a163-a360da6ac4fb","excerpt":"First I heard about Rust in the summer 2018. Since then I didn’t have much time to run into learning new stuff.\nI’m glad this is the right time to look at the…","html":"<p>First I heard about Rust in the summer 2018. Since then I didn’t have much time to run into learning new stuff.\nI’m glad this is the right time to look at the Rust. This is the reference for Rust language and I’ll try my best to write parts of the language as clear as possible so everyone could understand. </p>\n<h1>1. Conditionals</h1>\n<h2>Simple condition</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">if</span> age <span class=\"token operator\">></span> <span class=\"token number\">17</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Okay, now you can drink alcohol\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Sorry, alcohol is for people older than 18...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Ternary condition</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> condition <span class=\"token operator\">=</span> <span class=\"token keyword\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> variable <span class=\"token operator\">=</span> <span class=\"token keyword\">if</span> condition <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// 1 is assigned to variable if condition is true</span>\n   <span class=\"token number\">1</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// 0 is assigned to variable if condition is false</span>\n   <span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>2. Loops</h1>\n<h2>2.1 While</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> number <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">while</span> number <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}!\"</span><span class=\"token punctuation\">,</span> number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   number <span class=\"token operator\">=</span> number <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>2.2 Forever</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">loop</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"forever!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>2.3 Array iterating</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token number\">40</span><span class=\"token punctuation\">,</span> <span class=\"token number\">50</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> element <span class=\"token keyword\">in</span> a<span class=\"token punctuation\">.</span><span class=\"token function\">iter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"the value is: {}\"</span><span class=\"token punctuation\">,</span> element<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Variables</h1>\n<h2>Declaration</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">let</span> x <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// type - immutable integer variable</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> y<span class=\"token punctuation\">:</span> i8<span class=\"token punctuation\">;</span> <span class=\"token comment\">// mutable integer variable - signed mutable variable</span></code></pre></div>\n<h2>Change primitive value</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token comment\">// all variables without \"mut\" are immutable by default</span>\n<span class=\"token comment\">// if declare variables with \"mut\" identifier, you can mutate t</span>\n<span class=\"token comment\">// these variables</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> year <span class=\"token operator\">=</span> <span class=\"token number\">2018</span><span class=\"token punctuation\">;</span>\nyear <span class=\"token operator\">=</span> <span class=\"token number\">2019</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n\n<span class=\"token comment\">// code below can't be mutated</span>\n<span class=\"token keyword\">let</span> immutable <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\nimmutable <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ERROR !!!!</span></code></pre></div>\n<h1>Function definition</h1>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function\">sum_two_numbers</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span> i32<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> i32 <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// OR</span>\n<span class=\"token comment\">// valid returning without return statement</span>\n<span class=\"token comment\">// see there is no semicolon ;</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">sum_two_numbers</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">:</span> i32<span class=\"token punctuation\">,</span> b<span class=\"token punctuation\">:</span> i32<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> i32 <span class=\"token punctuation\">{</span>\n   a <span class=\"token operator\">+</span> b\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Lambda function</h2>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> increment <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">let</span> increment_by <span class=\"token operator\">=</span> <span class=\"token operator\">|</span>x<span class=\"token punctuation\">:</span> i32<span class=\"token operator\">|</span> x <span class=\"token operator\">+</span> increment<span class=\"token punctuation\">;</span>\n\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"increment 5 + 5 is {}\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">increment_by</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token comment\">// OUTPUT: increment 5 + 5 is 10</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Struct</h1>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> Person <span class=\"token punctuation\">{</span>\n   first_name<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n   last_name<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n   age<span class=\"token punctuation\">:</span> u32<span class=\"token punctuation\">,</span>\n   address<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> me <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">{</span>\n      first_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Martin\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      last_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Schnurer\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n      address<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Some address\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"I am {} {}, I am {} years old and I live at {}\"</span><span class=\"token punctuation\">,</span>\n   me<span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">,</span> me<span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">,</span> me<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">,</span> me<span class=\"token punctuation\">.</span>address<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token comment\">//OUTPUT: I am Martin Schnurer, I am 23 years old and I live at Some address</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Methods</h3>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> Person <span class=\"token punctuation\">{</span>\n   first_name<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n   last_name<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n   age<span class=\"token punctuation\">:</span> u32<span class=\"token punctuation\">,</span>\n   address<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">impl</span> Person <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">fn</span> <span class=\"token function\">find_girlfriend</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">:</span> <span class=\"token operator\">&amp;</span>Self<span class=\"token punctuation\">,</span> with_name<span class=\"token punctuation\">:</span> String<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hi I am {} {} and I am looking for a girl with name {}\"</span><span class=\"token punctuation\">,</span> \n               <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>first_name<span class=\"token punctuation\">,</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>last_name<span class=\"token punctuation\">,</span> with_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> me <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">{</span>\n      first_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Martin\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      last_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Schnurer\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">,</span>\n      address<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Some address\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n   me<span class=\"token punctuation\">.</span><span class=\"token function\">find_girlfriend</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Monica\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">to_string</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token comment\">// OUTPUT: Hi I am Martin Schnurer and I am looking for a girl with name Monica</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h1>Ownership and Borrowing</h1>\n<h3>Ownership</h3>\n<h4>move ownership</h4>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> Person<span class=\"token punctuation\">{</span> age<span class=\"token punctuation\">:</span> u16 <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This person is {} years old\"</span><span class=\"token punctuation\">,</span> person<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> bool <span class=\"token punctuation\">{</span>\n   person<span class=\"token punctuation\">.</span>age <span class=\"token operator\">></span> <span class=\"token number\">17</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">{</span>age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n   <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK: This person is 23 years old  (ownership passed to the write_age function)</span>\n   <span class=\"token comment\">// write_age is out of scope and john variable will be deleted there</span>\n\n   <span class=\"token keyword\">let</span> john_is_adult <span class=\"token operator\">=</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// COMPILATION FAIL, variable john was moved to the write_age fn</span>\n   <span class=\"token comment\">// we can't use variable.</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<p>After the ownership (variable) is moved into another scope, you can’t use this variable in the scope. See above how\nwe tried to use <em>john</em> variable passing into <em>is_adult</em> function - this will not compile, because we moved ownership of john to the <em>write_age</em> function scope and after <em>write_age</em> is done (out of scope), the content of the <em>john</em> variable is deleted.</p>\n<h4>Returning ownership back to the scope</h4>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> Person<span class=\"token punctuation\">{</span> age<span class=\"token punctuation\">:</span> u16 <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> Person <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This person is {} years old\"</span><span class=\"token punctuation\">,</span> person<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> person <span class=\"token comment\">// Now we move back the ownership from the function</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> bool <span class=\"token punctuation\">{</span>\n   person<span class=\"token punctuation\">.</span>age <span class=\"token operator\">></span> <span class=\"token number\">17</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">{</span>age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK: This person is 23 years old  (ownership passed to the write_age function)</span>\n   <span class=\"token comment\">// ownership is moved back from the write_age to the john, we can use john again </span>\n\n   <span class=\"token keyword\">let</span> john_is_adult <span class=\"token operator\">=</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"john is adult = {}\"</span><span class=\"token punctuation\">,</span> john_is_adult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n<span class=\"token punctuation\">}</span> </code></pre></div>\n<h4>Borrowing</h4>\n<p>Passing and returning ownerships is not always best decision to do - code overhead, </p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre class=\"language-rust\"><code class=\"language-rust\"><span class=\"token keyword\">struct</span> Person<span class=\"token punctuation\">{</span> age<span class=\"token punctuation\">:</span> u16 <span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> Person <span class=\"token punctuation\">{</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"This person is {} years old\"</span><span class=\"token punctuation\">,</span> person<span class=\"token punctuation\">.</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">return</span> person <span class=\"token comment\">// Now we move back the ownership from the function</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>person<span class=\"token punctuation\">:</span> Person<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">-></span> bool <span class=\"token punctuation\">{</span>\n   person<span class=\"token punctuation\">.</span>age <span class=\"token operator\">></span> <span class=\"token number\">17</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fn</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> Person<span class=\"token punctuation\">{</span>age<span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n   <span class=\"token keyword\">let</span> john <span class=\"token operator\">=</span> <span class=\"token function\">write_age</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK: This person is 23 years old  (ownership passed to the write_age function)</span>\n   <span class=\"token comment\">// ownership is moved back from the write_age to the john, we can use john again </span>\n\n   <span class=\"token keyword\">let</span> john_is_adult <span class=\"token operator\">=</span> <span class=\"token function\">is_adult</span><span class=\"token punctuation\">(</span>john<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n   <span class=\"token function\">println!</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"john is adult = {}\"</span><span class=\"token punctuation\">,</span> john_is_adult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// OK</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Rust Reference","date":"May 07, 2019"}}},"pageContext":{"slug":"/rust-reference/","previous":{"fields":{"slug":"/so-when-is-actually-the-time-to-retire/"},"frontmatter":{"title":"So when is actually the time to retire?","publish":null}},"next":null}}